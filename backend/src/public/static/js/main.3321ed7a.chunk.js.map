{"version":3,"sources":["services/alert.service.ts","services/session-storage.service.ts","services/user.service.ts","store/actions/user.action.ts","store/actions/app-state.action.ts","assets/images/graphssvg.svg","pages/HomePage.tsx","services/local-storage.service.ts","services/util.service.ts","services/date.service.ts","components/MainAppMenu.tsx","components/MobileMenu.tsx","components/blocks/HeaderBlock.tsx","components/blocks/BalanceBlock.tsx","components/GetIcon.tsx","components/Loader.tsx","components/ActionPreview.tsx","components/blocks/SummeryBlock.tsx","components/blocks/GraphBlock.tsx","components/modals/SearchModal.tsx","components/modals/CategoryModal.tsx","components/modals/LabelModal.tsx","components/modals/ActionModal.tsx","components/modals/ConfirmModal.tsx","components/modals/SettingsModal.tsx","components/PaginationDots.tsx","pages/MainApp.tsx","App.tsx","store/reducers/user.reducer.ts","store/reducers/app-state.reducer.ts","store/store.ts","serviceWorkerRegistration.ts","index.tsx"],"names":["alertMessage","message","type","duration","store","addNotification","insert","container","animationIn","animationOut","dismiss","onScreen","alertTitleMessage","title","sessionStorageService","load","key","obj","sessionStorage","getItem","JSON","parse","save","setItem","stringify","remove","removeItem","axios","Axios","create","withCredentials","userService","signup","login","logout","deleteUser","updateUser","updateData","getData","getUser","addAction","deleteAction","duplicateAction","addCategory","deleteCategory","addLabel","deleteLabel","uploadImg","BASE_URL","credentials","a","post","res","data","msg","console","error","delete","put","filterBy","startDate","endDate","get","action","actionId","category","categoryId","label","labelId","file","process","UPLOAD_URL","formData","FormData","append","fetch","method","body","then","json","url","catch","err","dispatch","user","updatedUser","updatedData","setBlocksIdx","blocksIdx","setPaginationDots","isPaginationDots","setLoader","loaderState","setCurrentViewMode","viewMode","setCurrentLabel","setSelectedAction","setFilterBy","HomePage","useDispatch","navigate","useNavigate","loggedInUser","useSelector","state","userModule","useState","formState","setFormState","userName","firstName","lastName","password","isGoogle","setFormData","errors","setErrors","useEffect","_getUser","handleSignup","errorsCopy","passwordTests","isValidUserName","test","isValidPassword","every","isValid","className","src","graphSvg","alt","onClick","prevState","Box","onChange","ev","target","name","value","component","sx","m","width","autoComplete","TextField","helperText","Button","clientId","buttonText","onSuccess","responseGoogle","credendials","profileObj","email","givenName","familyName","googleId","picture","imageUrl","onFailure","cookiePolicy","localStorageService","localStorage","utilService","debounce","func","timeout","timer","args","clearTimeout","setTimeout","makeId","length","txt","possible","i","charAt","Math","floor","random","getFormatedDigits","num","getCurrencies","getSymbolFromCode","currencyCode","currencySymbol","getIcons","getColors","CURRENCY_API","currencies","results","log","dateService","getDayTimestampByHour","date","hour","now","Date","getMonth","getDate","getFullYear","getTime","getDaysTimeData","days","timePoints","timeStamps","push","getMonthsTimeData","firstDate","monthIdx","yearIdx","getShortYear","dateIdx","getNextMonth","getYearsTimeData","getMonthStartTimeStamp","getDayMaxHour","timeStamp","day","month","year","getDayMinHour","getRelativeDate","nowTimeStamp","dateTimeStamp","hours","getHours","minutes","getMinutes","getDateAsString","dateObj","calculatePeriodDays","rawResult","ceil","getDateFilterBy","thisYear","thisMonth","dateString","substr","MainAppMenu","isMenuOpen","setMenuOpen","setActionModalOpen","setSettingsModalOpen","currentViewMode","appStateModule","currentLabel","handleViewModeClick","style","backgroundImage","labels","map","newFilterBy","handleLabelClick","labelName","_id","searchTxt","MobileMenu","HeaderBlock","setSearchModalOpen","startDateString","endDateString","BalanceBlock","rawData","balance","setBalance","balanceColor","setBalanceColor","actions","reduce","includes","description","amount","color","round","toLocaleString","currency","sign","GetIcon","iconName","Loader","isLoader","opacity","pointerEvents","ActionPreview","selectedAction","onDelete","stopPropagation","onDuplicate","categoryData","categories","find","currCat","findCategoryData","backgroundColor","bgColor","icon","createdAt","toString","transform","options","maintainAspectRatio","plugins","legend","display","scale","ticks","precision","aspectRatio","SummeryBlock","dataMap","setDataMap","pieData","setPieData","actionsData","setActionsData","sum","actionsObj","filter","sort","b","forEach","dateStr","Object","entries","backgroundColors","datasets","borderColor","values","borderWidth","expense","Fragment","ChartJS","register","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","responsive","GraphBlock","graphData","setGraphData","daysPeriod","expensesDataset","incomesDataset","timePoint","timeData","idx","justifyContent","redraw","emptyFilterBy","SearchModal","closeModal","globalFilterBy","handleChange","handleDateChange","field","selectedTimeStamp","alert","variant","noValidate","LocalizationProvider","dateAdapter","AdapterDateFns","Stack","spacing","MobileDatePicker","inputFormat","onAccept","renderInput","params","FormControl","fullWidth","InputLabel","id","Select","MenuItem","direction","setGlobalFilterBy","colors","icons","btnErrorStyle","border","CategoryModal","categoryToEdit","categoryName","setCategoryName","selectedIcon","setSelectedIcon","selectedColor","setSelectedColor","isColorsModalOpen","setColorsModal","isIconsModalOpen","setIconsModal","onSubmit","categoryFormatedName","toUpperCase","newCategory","isOpen","exitDimmer","zIndex","blur","saturate","selectColorHandle","selectIconHandle","LabelModal","labelToEdit","setLabel","setError","onSubmitLabel","formatedLabel","toLowerCase","split","char","join","newLabel","MenuProps","PaperProps","maxHeight","ITEM_HEIGHT","getStyles","theme","fontWeight","indexOf","typography","fontWeightRegular","fontWeightMedium","ActionModal","useTheme","addCategoryModal","setAddCategoryModal","addLabelModal","setAddLabelModal","MobileDateTimePicker","ampm","multiple","formDataCopy","input","OutlinedInput","renderValue","selected","overflowX","gap","Chip","ConfirmModal","setAnswer","tabs","SettingsModal","currentTab","setCurrentTab","tab","borderBottom","AccountSettings","password1","password2","confirmModal","setConfirmModal","pictureRef","useRef","handlePictureUpload","files","handleSubmit","formToSubmit","handleConfirmModal","modalMessage","handleModalAnswer","answer","current","click","ref","PreferencesSettings","setCurrencies","minWidth","FormHelperText","code","currencyName","CategoriesSettings","selectedCategory","setSelectedCategory","handleDelete","LabelsSettings","selectedLabel","setSelectedLabel","PaginationDots","MainApp","isSearchModalOpen","isSettingsModalOpen","isActionModalOpen","blocksRef","_getData","updatePaginationDots","scrollingElement","scrollTop","window","scrollY","addEventListener","removeEventListener","handleBlocksScroll","scrollLeft","onScroll","App","path","element","initialState","rootReducer","combineReducers","createStore","applyMiddleware","thunk","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","ReactDOM","render","StrictMode","document","getElementById","URL","href","origin","headers","response","contentType","status","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.3321ed7a.chunk.js","sourcesContent":["import { store } from 'react-notifications-component';\r\n\r\nexport interface IAlertMessage{\r\n    message: string;\r\n    type: \"success\" | \"danger\" | \"info\" | \"default\" | \"warning\" | undefined;\r\n    duration: number;\r\n    title: string;\r\n}\r\n\r\nexport function alertMessage(message: string, type: IAlertMessage[\"type\"], duration: number = 3500) {\r\n    return store.addNotification({\r\n        message,\r\n        type,\r\n        insert: \"top\",\r\n        container: \"top-right\",\r\n        animationIn: [\"animate__animated\", \"animate__backInRight\"],\r\n        animationOut: [\"animate__animated\", \"animate__backOutRight\"],\r\n        dismiss: {\r\n            duration,\r\n            onScreen: true\r\n        }\r\n    });\r\n}\r\n\r\nexport function alertTitleMessage(title: string, message: string, type: IAlertMessage[\"type\"], duration: number = 3500) {\r\n    return store.addNotification({\r\n        title,\r\n        message,\r\n        type,\r\n        insert: \"top\",\r\n        container: \"top-right\",\r\n        animationIn: [\"animate__animated\", \"animate__backInRight\"],\r\n        animationOut: [\"animate__animated\", \"animate__backOutRight\"],\r\n        dismiss: {\r\n            duration,\r\n            onScreen: true\r\n        }\r\n    });\r\n}\r\n\r\n\r\n\r\nexport function removeMessage(messageId: string) {\r\n    store.removeNotification(messageId)\r\n}","export const sessionStorageService = {\r\n    load,\r\n    save,\r\n    remove\r\n}\r\n\r\nfunction load(key: string): any {\r\n    const obj: any = sessionStorage.getItem(key)\r\n    return JSON.parse(obj)\r\n}\r\n\r\nfunction save(key: string, obj: any) {\r\n    sessionStorage.setItem(key, JSON.stringify(obj))\r\n}\r\n\r\nfunction remove(key: string) {\r\n    sessionStorage.removeItem(key)\r\n}","import { IAction, ICategory, ILabel, IDateFilterBy, IDataUpdateForm, IFilterBy } from \"../interfaces/dataInterfaces\"\r\nimport Axios from \"axios\"\r\nimport { sessionStorageService } from \"./session-storage.service\"\r\nimport { IUpdateForm } from \"../interfaces/userInterfaces\"\r\nimport { alertTitleMessage } from \"./alert.service\"\r\n\r\nconst axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const userService = {\r\n    signup,\r\n    login,\r\n    logout,\r\n    deleteUser,\r\n    updateUser,\r\n    updateData,\r\n    getData,\r\n    getUser,\r\n    addAction,\r\n    deleteAction,\r\n    duplicateAction,\r\n    addCategory,\r\n    deleteCategory,\r\n    addLabel,\r\n    deleteLabel,\r\n    uploadImg\r\n}\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production' ? '' : '//localhost:3030'\r\n\r\ninterface ICredentials {\r\n    userName: string,\r\n    password: string,\r\n    firstName?: string,\r\n    lastName?: string\r\n}\r\n\r\n// User Functions\r\n\r\nasync function signup(credentials: ICredentials) {\r\n    try {\r\n        const res = await axios.post(`${BASE_URL}/api/auth/signup`, credentials)\r\n        if (!res.data.msg) {\r\n            sessionStorageService.save('loggedInUser', res.data)\r\n        }\r\n        return res.data\r\n    } catch (err) {\r\n        console.error(err)\r\n    }\r\n}\r\n\r\nasync function login(credentials: ICredentials) {\r\n    try {\r\n        const res = await axios.post(`${BASE_URL}/api/auth/login`, credentials)\r\n        if (!res.data.msg) {\r\n            sessionStorageService.save('loggedInUser', res.data)\r\n        }\r\n        return res.data\r\n    } catch (err) {\r\n        console.error(err)\r\n    }\r\n}\r\n\r\nasync function logout() {\r\n    try {\r\n        await axios.post(`${BASE_URL}/api/auth/logout`)\r\n        sessionStorageService.remove('loggedInUser')\r\n    } catch (err) {\r\n        console.error(err)\r\n    }\r\n}\r\n\r\n\r\nasync function deleteUser() {\r\n    try {\r\n        const res = await axios.delete(`${BASE_URL}/api/user`)\r\n        if(!res.data.msg){\r\n            sessionStorageService.remove('loggedInUser')\r\n        }\r\n        return res.data\r\n    } catch (err) {\r\n        console.error(err)\r\n    }\r\n}\r\n\r\nasync function updateUser(data: IUpdateForm) {\r\n    try {\r\n        const res = await axios.put(`${BASE_URL}/api/user/user`, data)\r\n        if (!res.data.msg) {\r\n            sessionStorageService.save('loggedInUser', res.data)\r\n        }\r\n        return res.data\r\n    } catch (err) {\r\n        console.error(err)\r\n    }\r\n}\r\n\r\nasync function updateData(data: IDataUpdateForm, filterBy: IFilterBy) {\r\n    try {\r\n        const res = await axios.put(`${BASE_URL}/api/user/data?startDate=${filterBy.startDate}&endDate=${filterBy.endDate}`, data)\r\n        return res.data\r\n    } catch (err) {\r\n        console.error(err)\r\n    }\r\n}\r\n\r\n// CURD Functions\r\n\r\nasync function getData(filterBy: IDateFilterBy) {\r\n    try {\r\n        const res = await axios.get(`${BASE_URL}/api/user/data?startDate=${filterBy.startDate}&endDate=${filterBy.endDate}`)\r\n        return res.data\r\n    } catch (err) {\r\n        console.error(err)\r\n    }\r\n}\r\n\r\nasync function getUser() {\r\n    try {\r\n        const res = await axios.get(`${BASE_URL}/api/user/user`)\r\n        return res.data\r\n    } catch (err) {\r\n        console.error(err)\r\n    }\r\n}\r\n\r\n\r\nasync function addAction(action: IAction, filterBy: IFilterBy) {\r\n    try {\r\n        const res = await axios.post(`${BASE_URL}/api/user/action?startDate=${filterBy.startDate}&endDate=${filterBy.endDate}`, action)\r\n        return res.data\r\n    } catch (err) {\r\n        console.error(err)\r\n    }\r\n}\r\n\r\nasync function deleteAction(actionId: string, filterBy: IFilterBy) {\r\n    try {\r\n        const res = await axios.delete(`${BASE_URL}/api/user/action/${actionId}?startDate=${filterBy.startDate}&endDate=${filterBy.endDate}`)\r\n        return res.data\r\n    } catch (err) {\r\n        console.error(err)\r\n    }\r\n}\r\n\r\nasync function duplicateAction(actionId: string, filterBy: IFilterBy) {\r\n    try {\r\n        const res = await axios.post(`${BASE_URL}/api/user/action/${actionId}?startDate=${filterBy.startDate}&endDate=${filterBy.endDate}`)\r\n        return res.data\r\n    } catch (err) {\r\n        console.error(err)\r\n    }\r\n}\r\n\r\nasync function addCategory(category: ICategory, filterBy: IFilterBy) {\r\n    try {\r\n        const res = await axios.post(`${BASE_URL}/api/user/category?startDate=${filterBy.startDate}&endDate=${filterBy.endDate}`, category)\r\n        return res.data\r\n    } catch (err) {\r\n        console.error(err)\r\n    }\r\n}\r\n\r\nasync function deleteCategory(categoryId: string, filterBy: IFilterBy) {\r\n    try {\r\n        const res = await axios.delete(`${BASE_URL}/api/user/category/${categoryId}?startDate=${filterBy.startDate}&endDate=${filterBy.endDate}`)\r\n        return res.data\r\n    } catch (err) {\r\n        console.error(err)\r\n    }\r\n}\r\n\r\nasync function addLabel(label: ILabel, filterBy: IFilterBy) {\r\n    try {\r\n        const res = await axios.post(`${BASE_URL}/api/user/label?startDate=${filterBy.startDate}&endDate=${filterBy.endDate}`, label)\r\n        return res.data\r\n    } catch (err) {\r\n        console.error(err)\r\n    }\r\n}\r\n\r\nasync function deleteLabel(labelId: string, filterBy: IFilterBy) {\r\n    try {\r\n        const res = await axios.delete(`${BASE_URL}/api/user/label/${labelId}?startDate=${filterBy.startDate}&endDate=${filterBy.endDate}`)\r\n        return res.data\r\n    } catch (err) {\r\n        console.error(err)\r\n    }\r\n}\r\n\r\nasync function uploadImg(file: File) {\r\n    try {\r\n        const CLOUD_NAME = process.env.REACT_APP_CLOUD_NAME\r\n        const UPLOAD_PRESET: any = process.env.REACT_APP_UPLOAD_PRESET\r\n        const UPLOAD_URL = `https://api.cloudinary.com/v1_1/${CLOUD_NAME}/image/upload`\r\n\r\n        const formData = new FormData();\r\n        formData.append('file', file)\r\n        formData.append('upload_preset', UPLOAD_PRESET);\r\n\r\n        return fetch(UPLOAD_URL, {\r\n            method: 'POST',\r\n            body: formData\r\n        })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                return res.url\r\n            })\r\n            .catch(err => {\r\n                console.error(err)\r\n                alertTitleMessage('Opps, an error occurred', 'Could not upload image, try again later', 'danger', 3500)\r\n                return null\r\n            })\r\n    } catch (err) {\r\n        console.error(err)\r\n    }\r\n}","import { IAction, ICategory, ILabel, IDateFilterBy, IDataUpdateForm, IFilterBy } from \"../../interfaces/dataInterfaces\"\r\nimport { ICredentials, IUpdateForm } from \"../../interfaces/userInterfaces\"\r\nimport { alertTitleMessage } from \"../../services/alert.service\"\r\nimport { userService } from \"../../services/user.service\"\r\nimport { AppDispatch } from \"../store\"\r\n\r\nexport const signup = (credentials: ICredentials) => {\r\n    return async (dispatch: AppDispatch) => {\r\n        try {\r\n            const user = await userService.signup(credentials)\r\n            dispatch({\r\n                type: \"SET_USER\",\r\n                user\r\n            })\r\n            return user\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    }\r\n}\r\n\r\nexport const login = (credentials: ICredentials) => {\r\n    return async (dispatch: AppDispatch) => {\r\n        try {\r\n            const user = await userService.login(credentials)\r\n            dispatch({\r\n                type: \"SET_USER\",\r\n                user\r\n            })\r\n            return user\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    }\r\n}\r\n\r\nexport const logout = () => {\r\n    return async (dispatch: AppDispatch) => {\r\n        try {\r\n            await userService.logout()\r\n            dispatch({\r\n                type: \"SET_USER\",\r\n                user: null\r\n            })\r\n        } catch (err) {\r\n            console.error(err)\r\n        }\r\n    }\r\n}\r\n\r\nexport const deleteUser = () => {\r\n    return async (dispatch: AppDispatch) => {\r\n        try {\r\n            const data = await userService.deleteUser()\r\n            if (data) {\r\n                if (!data.msg) {\r\n                    dispatch({\r\n                        type: \"SET_USER\",\r\n                        user: null\r\n                    })\r\n                } else {\r\n                    alertTitleMessage(data.title, data.msg, data.type, 3500)\r\n                }\r\n            } else {\r\n                alertTitleMessage('Opps, an error occurred', 'Could not delete your account, try again later', 'danger', 3500)\r\n            }\r\n            return data\r\n        } catch (err) {\r\n            console.error(err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const getData = (filterBy: IDateFilterBy) => {\r\n    return async (dispatch: AppDispatch) => {\r\n        try {\r\n            const data = await userService.getData(filterBy)\r\n            if (!data.msg) {\r\n                dispatch({\r\n                    type: \"SET_DATA\",\r\n                    data\r\n                })\r\n            } else {\r\n                alertTitleMessage(data.title, data.msg, data.type, 3500)\r\n            }\r\n            return data\r\n        } catch (err) {\r\n            console.error(err)\r\n        }\r\n    }\r\n}\r\n\r\nexport const getUser = () => {\r\n    return async (dispatch: AppDispatch) => {\r\n        try {\r\n            const data = await userService.getUser()\r\n            if (!data?.msg) {\r\n                dispatch({\r\n                    type: \"SET_USER\",\r\n                    user: data\r\n                })\r\n            } else {\r\n                alertTitleMessage(data.title, data.msg, data.type, 3500)\r\n            }\r\n            return data\r\n        } catch (err) {\r\n            console.error(err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const updateUser = (updatedUser: IUpdateForm) => {\r\n    return async (dispatch: AppDispatch) => {\r\n        try {\r\n            const data = await userService.updateUser(updatedUser)\r\n            if (!data.msg) {\r\n                dispatch({\r\n                    type: \"SET_USER\",\r\n                    data\r\n                })\r\n            } else {\r\n                alertTitleMessage(data.title, data.msg, data.type, 3500)\r\n            }\r\n        } catch (err) {\r\n            console.error(err)\r\n        }\r\n    }\r\n}\r\n\r\nexport const updateData = (updatedData: IDataUpdateForm, filterBy: IFilterBy) => {\r\n    return async (dispatch: AppDispatch) => {\r\n        try {\r\n            const data = await userService.updateData(updatedData, filterBy)\r\n            if (!data.msg) {\r\n                dispatch({\r\n                    type: \"SET_DATA\",\r\n                    data\r\n                })\r\n            } else {\r\n                alertTitleMessage(data.title, data.msg, data.type, 3500)\r\n            }\r\n            return data\r\n        } catch (err) {\r\n            console.error(err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport const addAction = (action: IAction, filterBy: IFilterBy) => {\r\n    return async (dispatch: AppDispatch) => {\r\n        try {\r\n            const data = await userService.addAction(action, filterBy)\r\n            if (!data.msg) {\r\n                dispatch({\r\n                    type: \"SET_DATA\",\r\n                    data\r\n                })\r\n            } else {\r\n                alertTitleMessage(data.title, data.msg, data.type, 3500)\r\n            }\r\n            return data\r\n        } catch (err) {\r\n            console.error(err)\r\n        }\r\n    }\r\n}\r\n\r\nexport const deleteAction = (actionId: string, filterBy: IFilterBy) => {\r\n    return async (dispatch: AppDispatch) => {\r\n        try {\r\n            const data = await userService.deleteAction(actionId, filterBy)\r\n            if (!data.msg) {\r\n                dispatch({\r\n                    type: \"SET_DATA\",\r\n                    data\r\n                })\r\n            } else {\r\n                alertTitleMessage(data.title, data.msg, data.type, 3500)\r\n            }\r\n        } catch (err) {\r\n            console.error(err)\r\n        }\r\n    }\r\n}\r\n\r\nexport const duplicateAction = (actionId: string, filterBy: IFilterBy) => {\r\n    return async (dispatch: AppDispatch) => {\r\n        try {\r\n            const data = await userService.duplicateAction(actionId, filterBy)\r\n            if (!data.msg) {\r\n                dispatch({\r\n                    type: \"SET_DATA\",\r\n                    data\r\n                })\r\n            } else {\r\n                alertTitleMessage(data.title, data.msg, data.type, 3500)\r\n            }\r\n        } catch (err) {\r\n            console.error(err)\r\n        }\r\n    }\r\n}\r\n\r\nexport const addCategory = (category: ICategory, filterBy: IFilterBy) => {\r\n    return async (dispatch: AppDispatch) => {\r\n        try {\r\n            const data = await userService.addCategory(category, filterBy)\r\n            if (!data.msg) {\r\n                dispatch({\r\n                    type: \"SET_DATA\",\r\n                    data\r\n                })\r\n            } else {\r\n                alertTitleMessage(data.title, data.msg, data.type, 3500)\r\n            }\r\n            return data\r\n        } catch (err) {\r\n            console.error(err)\r\n        }\r\n    }\r\n}\r\n\r\nexport const deleteCategory = (categoryId: string, filterBy: IFilterBy) => {\r\n    return async (dispatch: AppDispatch) => {\r\n        try {\r\n            const data = await userService.deleteCategory(categoryId, filterBy)\r\n            if (data) {\r\n                if (!data.msg) {\r\n                    dispatch({\r\n                        type: \"SET_DATA\",\r\n                        data\r\n                    })\r\n                } else {\r\n                    alertTitleMessage(data.title, data.msg, data.type, 3500)\r\n                }\r\n            }\r\n            return data\r\n        } catch (err) {\r\n            console.error(err)\r\n        }\r\n    }\r\n}\r\n\r\nexport const addLabel = (label: ILabel, filterBy: IFilterBy) => {\r\n    return async (dispatch: AppDispatch) => {\r\n        try {\r\n            const data = await userService.addLabel(label, filterBy)\r\n            if (!data.msg) {\r\n                dispatch({\r\n                    type: \"SET_DATA\",\r\n                    data\r\n                })\r\n                return data\r\n            } else {\r\n                alertTitleMessage(data.title, data.msg, data.type, 3500)\r\n                return null\r\n            }\r\n        } catch (err) {\r\n            console.error(err)\r\n        }\r\n    }\r\n}\r\n\r\nexport const deleteLabel = (labelId: string, filterBy: IFilterBy) => {\r\n    return async (dispatch: AppDispatch) => {\r\n        try {\r\n            const data = await userService.deleteLabel(labelId, filterBy)\r\n            if (!data.msg) {\r\n                dispatch({\r\n                    type: \"SET_DATA\",\r\n                    data\r\n                })\r\n            } else {\r\n                alertTitleMessage(data.title, data.msg, data.type, 3500)\r\n            }\r\n            return data\r\n        } catch (err) {\r\n            console.error(err)\r\n        }\r\n    }\r\n}","import { IAction, IFilterBy } from \"../../interfaces/dataInterfaces\"\r\nimport { AppDispatch } from \"../store\"\r\n\r\nexport const setBlocksIdx = (blocksIdx: number) => {\r\n    return (dispatch: AppDispatch) => {\r\n        dispatch({\r\n            type: \"SET_BLOCKS_IDX\",\r\n            blocksIdx\r\n        })\r\n    }\r\n}\r\n\r\nexport const setPaginationDots = (isPaginationDots: boolean) => {\r\n    return (dispatch: AppDispatch) => {\r\n        dispatch({\r\n            type: \"SET_PAGINATION_DOTS\",\r\n            isPaginationDots\r\n        })\r\n    }\r\n}\r\n\r\nexport const setLoader = (loaderState: boolean) => {\r\n    return (dispatch: AppDispatch) => {\r\n        dispatch({\r\n            type: \"SET_LOADER\",\r\n            loaderState\r\n        })\r\n    }\r\n}\r\n\r\nexport const setCurrentViewMode = (viewMode: string) => {\r\n    return (dispatch: AppDispatch) => {\r\n        dispatch({\r\n            type: \"SET_VIEWMODE\",\r\n            viewMode\r\n        })\r\n    }\r\n}\r\n\r\nexport const setCurrentLabel = (label: string | null) => {\r\n    return (dispatch: AppDispatch) => {\r\n        dispatch({\r\n            type: \"SET_LABEL\",\r\n            label\r\n        })\r\n    }\r\n}\r\n\r\nexport const setSelectedAction = (action: IAction | null) => {\r\n    return (dispatch: AppDispatch) => {\r\n        dispatch({\r\n            type: \"SET_SELECTED_ACTION\",\r\n            action\r\n        })\r\n    }\r\n}\r\n\r\nexport const setFilterBy = (filterBy: IFilterBy) => {\r\n    return (dispatch: AppDispatch) => {\r\n        dispatch({\r\n            type: \"SET_FILTERBY\",\r\n            filterBy\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/graphssvg.5a5ce136.svg\";","import React, { useEffect, useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { Button, TextField } from '@mui/material'\r\nimport { Box } from '@mui/system'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { signup, login, getUser } from '../store/actions/user.action'\r\nimport { setLoader } from '../store/actions/app-state.action'\r\nimport { RootState } from '../store/store'\r\nimport { GoogleLogin } from 'react-google-login';\r\nimport { alertMessage, alertTitleMessage } from '../services/alert.service'\r\nimport graphSvg from '../assets/images/graphssvg.svg'\r\n\r\ninterface IErrors {\r\n    [key: string]: boolean\r\n}\r\n\r\nexport const HomePage = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n\r\n    const loggedInUser = useSelector((state: RootState) => state.userModule.loggedInUser)\r\n\r\n    const [formState, setFormState] = useState('login')\r\n    const [formData, setFormData] = useState({\r\n        userName: '',\r\n        firstName: '',\r\n        lastName: '',\r\n        password: '',\r\n        isGoogle: false\r\n    })\r\n\r\n    const [errors, setErrors] = useState<IErrors>({\r\n        userName: false,\r\n        firstName: false,\r\n        lastName: false,\r\n        password: false\r\n    })\r\n\r\n    useEffect(() => {\r\n        const _getUser = async () => {\r\n            await dispatch(getUser())\r\n        }\r\n        _getUser()\r\n\r\n    }, [dispatch])\r\n\r\n    useEffect(() => {\r\n        if (loggedInUser) {\r\n            navigate('/mydata')\r\n        }\r\n    }, [loggedInUser, navigate])\r\n\r\n    const handleChange = (ev: React.ChangeEvent<HTMLFormElement>) => {\r\n        setFormData(prevState => { return { ...prevState, [ev.target.name]: ev.target.value } })\r\n    }\r\n\r\n    const handleSignup = async () => {\r\n        const errorsCopy = { ...errors }\r\n\r\n        const userNameTest = /^[A-Za-z][A-Za-z0-9!@#$%^&*_]{5,30}$/ // First char is a letter, rest can be numbers, letters or symbols, 5-30 length\r\n        const passwordTests = [/^[A-Za-z0-9!@#$%^&*_].{8,}$/, /[A-Z]/, /[a-z]/, /[!@#$%^&*_]/] // At least on of each: uppercase letter, lowercase letter, digit, symbol, length of at least 8\r\n\r\n\r\n        const isValidUserName = userNameTest.test(formData.userName)\r\n        const isValidPassword = passwordTests.every(test => test.test(formData.password))\r\n\r\n        if(!isValidPassword) alertTitleMessage('Invalid password', 'Must include at least 8 characters: upper and lower case, symbols and numbers', 'danger', 12000)\r\n        if(!isValidUserName) alertTitleMessage('Invalid username', 'Must include at least 5 characters: letters, numbers and symbols', 'danger', 12000)\r\n\r\n        errorsCopy.userName = !formData.userName ? true : false\r\n\r\n        if (!formData.userName || !isValidUserName) {\r\n            errorsCopy.userName = true\r\n        } else {\r\n            errorsCopy.userName = false\r\n        }\r\n\r\n        if (!formData.password || !isValidPassword) {\r\n            errorsCopy.password = true\r\n        } else {\r\n            errorsCopy.password = false\r\n        }\r\n\r\n        errorsCopy.firstName = !formData.firstName ? true : false\r\n        errorsCopy.lastName = !formData.lastName ? true : false\r\n\r\n        let isValid = true\r\n\r\n        for (const key in errorsCopy) {\r\n            if (errorsCopy[key]) {\r\n                isValid = false\r\n                break\r\n            }\r\n        }\r\n\r\n        if (isValid) {\r\n            (async () => {\r\n                dispatch(setLoader(true))\r\n                const user: any = await dispatch(signup(formData))\r\n                dispatch(setLoader(false))\r\n                if (user) {\r\n                    navigate(`/mydata`)\r\n                } else {\r\n                    setErrors({ ...errors, userName: true, password: true })\r\n                }\r\n            })()\r\n\r\n        } else {\r\n            setErrors(errorsCopy)\r\n        }\r\n    }\r\n\r\n    const handleLogin = () => {\r\n        const userName = formData.userName\r\n        const password = formData.password\r\n\r\n        const errorsCopy = { ...errors }\r\n\r\n        let isValid = true\r\n\r\n        if (!userName) {\r\n            isValid = false\r\n            errorsCopy.userName = true\r\n        }\r\n        if (!password) {\r\n            isValid = false\r\n            errorsCopy.password = true\r\n        }\r\n\r\n\r\n        if (isValid) {\r\n            (async () => {\r\n                dispatch(setLoader(true))\r\n                const user: any = await dispatch(login(formData))\r\n                dispatch(setLoader(false))\r\n                if (user) {\r\n                    navigate(`/mydata`)\r\n                } else {\r\n                    setErrors(prevState => { return { ...prevState, userName: true, password: true } })\r\n                }\r\n            })()\r\n        } else {\r\n            setErrors(errorsCopy)\r\n        }\r\n    }\r\n\r\n    const handleGoogleLogin = (responseGoogle: any) => {\r\n\r\n        const credendials = {\r\n            userName: responseGoogle.profileObj.email,\r\n            firstName: responseGoogle.profileObj.givenName,\r\n            lastName: responseGoogle.profileObj.familyName,\r\n            password: responseGoogle.profileObj.googleId,\r\n            picture: responseGoogle.profileObj.imageUrl,\r\n            isGoogle: true\r\n        };\r\n\r\n\r\n        (async () => {\r\n            dispatch(setLoader(true))\r\n            const user: any = await dispatch(login({ userName: credendials.userName, password: credendials.password, isGoogle: true }))\r\n            dispatch(setLoader(false))\r\n            if (user) {\r\n                navigate(`/mydata`)\r\n            } else {\r\n                dispatch(setLoader(true))\r\n                const user: any = await dispatch(signup(credendials))\r\n                dispatch(setLoader(false))\r\n                if (user) {\r\n                    navigate(`/mydata`)\r\n                } else {\r\n                    setErrors({ ...errors, userName: true, password: true })\r\n                }\r\n            }\r\n        })()\r\n\r\n    }\r\n\r\n    const handleGoogleFail = () => {\r\n        alertMessage('Something went wrong, try again later...', 'warning', 3500)\r\n    }\r\n\r\n    const switchFormState = () => {\r\n        if (formState === 'signup') setFormState('login')\r\n        else setFormState('signup')\r\n    }\r\n\r\n    const demoLogin = () => {\r\n        (async () => {\r\n            dispatch(setLoader(true))\r\n            const user: any = await dispatch(login({ userName: 'DemoUser', password: '1234', isGoogle: false }))\r\n            dispatch(setLoader(false))\r\n            if (user) {\r\n                navigate(`/mydata`)\r\n            } else {\r\n                setErrors(prevState => { return { ...prevState, userName: true, password: true } })\r\n            }\r\n        })()\r\n    }\r\n\r\n\r\n    const googleClientId: string = process.env.REACT_APP_GOOGLE_CLIENT_ID || ''\r\n\r\n    return (\r\n        <>\r\n            <div className=\"homepage\">\r\n                <div className=\"left-side\">\r\n                    <h2 className=\"app-logo\">MoneyPipe</h2>\r\n                    <div className=\"prase\">\r\n                        <h3>Tracking your money</h3>\r\n                        <h3>has never been so simple</h3>\r\n                    </div>\r\n                    <img src={graphSvg} alt=\"graph\" />\r\n                </div>\r\n                <div className=\"right-side\">\r\n                    <h4 className=\"demo-user-btn\">Watch the <span onClick={demoLogin}><b>demo</b></span></h4>\r\n                    <h2 className=\"app-logo\">MoneyPipe</h2>\r\n                    <h4 className=\"form-state-header\">{formState === 'signup' ? 'Have an account? ' : `Don't have an account? `}<span onClick={switchFormState}><b>{formState === 'signup' ? 'Login' : 'Signup'}</b></span></h4>\r\n                    <h2 className=\"form-title\">{formState === 'signup' ? 'Create account' : 'Login'}</h2>\r\n                    <Box onChange={handleChange} component=\"form\" sx={{ '& .MuiTextField-root': { m: 1, width: '25ch' }, }} autoComplete=\"off\">\r\n                        <TextField autoComplete=\"off\" label=\"username\" error={errors.userName} name=\"userName\" value={formData.userName} helperText={errors.userName ? 'invalid username' : ''} />\r\n                        {formState === 'signup' && <div className=\"name-fields\">\r\n                            <TextField autoComplete=\"off\" label=\"first name\" error={errors.firstName} name=\"firstName\" value={formData.firstName} />\r\n                            <TextField autoComplete=\"off\" label=\"last name\" error={errors.lastName} name=\"lastName\" value={formData.lastName} />\r\n                        </div>\r\n                        }\r\n                        <TextField autoComplete=\"off\" type=\"password\" label=\"password\" error={errors.password} name=\"password\" value={formData.password} helperText={errors.password ? 'invalid password' : ''} />\r\n                        <Button onClick={formState === 'signup' ? handleSignup : handleLogin}>{formState === 'signup' ? 'Sign up' : 'Login'}</Button>\r\n                    </Box>\r\n                    <hr></hr>\r\n                    <GoogleLogin\r\n                        clientId={googleClientId}\r\n                        buttonText='Continue with Google'\r\n                        onSuccess={handleGoogleLogin}\r\n                        onFailure={handleGoogleFail}\r\n                        cookiePolicy={'single_host_origin'}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className=\"dimmer-screen\"></div>\r\n        </>\r\n    )\r\n}\r\n","export const localStorageService = {\r\n    load,\r\n    save,\r\n    remove\r\n}\r\n\r\nfunction load(key: string): any {\r\n    const obj: any = localStorage.getItem(key)\r\n    return JSON.parse(obj)\r\n}\r\n\r\nfunction save(key: string, obj: any) {\r\n    localStorage.setItem(key, JSON.stringify(obj))\r\n}\r\n\r\nfunction remove(key: string) {\r\n    localStorage.removeItem(key)\r\n}","import axios from \"axios\"\r\nimport { localStorageService } from \"./local-storage.service\"\r\n\r\nexport const utilService = {\r\n    debounce,\r\n    makeId,\r\n    getFormatedDigits,\r\n    getCurrencies,\r\n    getSymbolFromCode,\r\n    getIcons,\r\n    getColors\r\n}\r\n\r\nconst CURRENCY_API = process.env.REACT_APP_CURRENCY_API\r\n\r\nfunction debounce<Params extends any[]>(func: (...args: Params) => any, timeout: number,): (...args: Params) => void {\r\n    let timer: NodeJS.Timeout\r\n\r\n    return (...args: Params) => {\r\n        clearTimeout(timer)\r\n        timer = setTimeout(() => {\r\n            func(...args)\r\n        }, timeout)\r\n    }\r\n}\r\n\r\nfunction makeId(length: number = 6) {\r\n    let txt = '';\r\n    let possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\r\n    for (let i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n\r\n    return txt;\r\n}\r\n\r\nfunction getFormatedDigits(num: number) {\r\n    return num < 10 ? '0' + num : num\r\n}\r\n\r\nasync function getCurrencies() {\r\n    try{\r\n        const currencies = localStorageService.load('currencies')\r\n        if(currencies){\r\n            return currencies\r\n        } else {\r\n            const res = await axios.get(`https://free.currconv.com/api/v7/currencies?apiKey=${CURRENCY_API}`)\r\n            localStorageService.save('currencies', res.data.results)\r\n            return res.data.results\r\n        }\r\n    } catch(err) {\r\n        console.log(err)\r\n    }\r\n}\r\n\r\nfunction getSymbolFromCode(currencyCode: string) {\r\n    const currencies = localStorageService.load('currencies')\r\n    return currencies[currencyCode].currencySymbol\r\n}\r\n\r\nfunction getIcons() {\r\n    return [\r\n        'shopping-cart',\r\n        'car',\r\n        'bus',\r\n        'train',\r\n        'food',\r\n        'motorcycle',\r\n        'bottles',\r\n        'code',\r\n        'laptop',\r\n        'smartphone',\r\n        'beer',\r\n        'cocktail',\r\n        'smoke',\r\n        'home',\r\n        'money',\r\n        'coins',\r\n        'leaf',\r\n        'travel',\r\n        'fire',\r\n        'music',\r\n        'baby',\r\n        'ball',\r\n        'bicycle',\r\n        'box',\r\n        'book',\r\n        'student',\r\n        'bone',\r\n        'dog',\r\n        'building',\r\n        'camping',\r\n        'camera',\r\n        'capsules',\r\n        'pie-graph',\r\n        'industry',\r\n        'church',\r\n        'exclamation',\r\n        'water',\r\n        'warning',\r\n        'movie',\r\n        'gas',\r\n        'guitar',\r\n        'hamburger',\r\n        'hammer',\r\n        'heart',\r\n        'information',\r\n        'carry',\r\n        'bank',\r\n        'cube',\r\n        'old-phone',\r\n        'text',\r\n        'apple',\r\n        'globe',\r\n        'gym',\r\n        'clothes',\r\n        'plane'\r\n    ]\r\n}\r\n\r\nfunction getColors() {\r\n    return [\r\n        '#a8071a',\r\n        '#cf1322',\r\n        '#f5222d',\r\n        '#ff4d4f',\r\n        '#ad2102',\r\n        '#d4380d',\r\n        '#fa541c',\r\n        '#ff7a45',\r\n        '#ad4e00',\r\n        '#d46b08',\r\n        '#fa8c16',\r\n        '#ffa940',\r\n        '#ad6800',\r\n        '#d48806',\r\n        '#faad14',\r\n        '#ffc53d',\r\n        '#ad8b00',\r\n        '#d4b106',\r\n        '#fadb14',\r\n        '#ffec3d',\r\n        '#5b8c00',\r\n        '#7cb305',\r\n        '#a0d911',\r\n        '#bae637',\r\n        '#237804',\r\n        '#389e0d',\r\n        '#52c41a',\r\n        '#73d13d',\r\n        '#006d75',\r\n        '#08979c',\r\n        '#13c2c2',\r\n        '#36cfc9',\r\n        '#0050b3',\r\n        '#096dd9',\r\n        '#1890ff',\r\n        '#40a9ff',\r\n        '#10239e',\r\n        '#1d39c4',\r\n        '#2f54eb',\r\n        '#597ef7',\r\n        '#391085',\r\n        '#531dab',\r\n        '#722ed1',\r\n        '#9254de',\r\n        '#9e1068',\r\n        '#c41d7f',\r\n        '#eb2f96',\r\n        '#f759ab',\r\n        '#000000',\r\n        '#141414',\r\n        '#1f1f1f',\r\n        '#262626'\r\n    ]\r\n\r\n}","import { IFilterBy } from \"../interfaces/dataInterfaces\"\r\nimport { utilService } from \"./util.service\"\r\n\r\nexport const dateService = {\r\n    getDayTimestampByHour,\r\n    getDaysTimeData,\r\n    getMonthsTimeData,\r\n    getYearsTimeData,\r\n    getNextMonth,\r\n    getMonthStartTimeStamp,\r\n    getDayMaxHour,\r\n    getDayMinHour,\r\n    getRelativeDate,\r\n    getDateAsString,\r\n    getShortYear,\r\n    calculatePeriodDays,\r\n    getDateFilterBy\r\n}\r\n\r\nfunction getDayTimestampByHour(date: number, hour: string) {\r\n    const now = new Date(date)\r\n\r\n    return new Date(`${now.getMonth() + 1}/${now.getDate()}/${now.getFullYear()} ${hour}`).getTime()\r\n}\r\n\r\nfunction getDaysTimeData(days: number, filterBy: IFilterBy) {\r\n    let timePoints: string[] = []\r\n    let timeStamps: number[] = []\r\n\r\n    for (let i = 0; i < days; i++) {\r\n        const date = new Date(filterBy.startDate + (86400000 * i))\r\n        timePoints.push(`${date.getDate()}/${date.getMonth() + 1}`)\r\n        timeStamps.push(date.getTime())\r\n    }\r\n\r\n    return { timePoints, timeStamps }\r\n}\r\n\r\nfunction getMonthsTimeData(filterBy: IFilterBy) {\r\n    const firstDate = new Date(filterBy.startDate)\r\n\r\n    let monthIdx = firstDate.getMonth() + 1\r\n    let yearIdx = getShortYear(firstDate.getFullYear())\r\n\r\n    const firstTimePoint = `${utilService.getFormatedDigits(monthIdx)}/${yearIdx}`\r\n\r\n    let timePoints: string[] = [firstTimePoint]\r\n    let timeStamps: number[] = [filterBy.startDate]\r\n\r\n    let dateIdx = getNextMonth(monthIdx, yearIdx)\r\n\r\n    while (dateIdx < filterBy.endDate) {\r\n        const date = new Date(dateIdx)\r\n        monthIdx = date.getMonth() + 1\r\n        yearIdx = getShortYear(date.getFullYear())\r\n\r\n        timePoints.push(`${utilService.getFormatedDigits(monthIdx)}/${yearIdx}`)\r\n        timeStamps.push(date.getTime() - 1000)\r\n\r\n        dateIdx = getNextMonth(monthIdx, yearIdx)\r\n    }\r\n\r\n    timeStamps.push(filterBy.endDate)\r\n\r\n    return { timePoints, timeStamps }\r\n}\r\n\r\nfunction getYearsTimeData(filterBy: IFilterBy) {\r\n    let yearIdx = new Date(filterBy.startDate).getFullYear()\r\n\r\n    let timePoints: string[] = []\r\n    let timeStamps: number[] = [filterBy.startDate]\r\n\r\n    while(yearIdx < new Date().getFullYear()){\r\n        timePoints.push(`${yearIdx}`)\r\n        timeStamps.push(new Date(`01/01/${yearIdx + 1}`).getTime() - 1000)\r\n\r\n        yearIdx++\r\n    }\r\n    timePoints.push(`${new Date().getFullYear()}`)\r\n    timeStamps.push(filterBy.endDate)\r\n    \r\n    return { timePoints, timeStamps }\r\n}\r\n\r\nfunction getNextMonth(month: number, year: number) {\r\n    month++\r\n    if (month > 12) {\r\n        month = 1\r\n        year++\r\n    }\r\n\r\n    return getMonthStartTimeStamp(new Date(`${month}/01/${year}`))\r\n}\r\n\r\nfunction getMonthStartTimeStamp(date: Date = new Date()) {\r\n    const thisYear = date.getFullYear()\r\n    const thisMonth = date.getMonth() + 1\r\n\r\n    const dateString = new Date(`${thisMonth}/01/${thisYear}`)\r\n\r\n    return dateString.getTime()\r\n}\r\n\r\nfunction getDayMaxHour(timeStamp: number) {\r\n    const date = new Date(timeStamp)\r\n\r\n    const day = date.getDate()\r\n    const month = date.getMonth()\r\n    const year = date.getFullYear()\r\n\r\n    return new Date(year, month, day, 23, 59, 59).getTime()\r\n}\r\n\r\nfunction getDayMinHour(timeStamp: number) {\r\n    const date = new Date(timeStamp)\r\n\r\n    const day = date.getDate()\r\n    const month = date.getMonth()\r\n    const year = date.getFullYear()\r\n\r\n    return new Date(year, month, day, 0, 0, 0).getTime()\r\n}\r\n\r\nfunction getRelativeDate(timeStamp: number) {\r\n    const nowTimeStamp = new Date()\r\n    const dateTimeStamp = new Date(timeStamp)\r\n\r\n    const now = {\r\n        day: utilService.getFormatedDigits(nowTimeStamp.getDate()),\r\n        month: utilService.getFormatedDigits(nowTimeStamp.getMonth() + 1),\r\n        year: nowTimeStamp.getFullYear(),\r\n        hours: utilService.getFormatedDigits(nowTimeStamp.getHours()),\r\n        minutes: utilService.getFormatedDigits(nowTimeStamp.getMinutes()),\r\n    }\r\n\r\n    const date = {\r\n        day: utilService.getFormatedDigits(dateTimeStamp.getDate()),\r\n        month: utilService.getFormatedDigits(dateTimeStamp.getMonth() + 1),\r\n        year: dateTimeStamp.getFullYear(),\r\n        hours: utilService.getFormatedDigits(dateTimeStamp.getHours()),\r\n        minutes: utilService.getFormatedDigits(dateTimeStamp.getMinutes()),\r\n    }\r\n\r\n    // Today\r\n    if (now.day === date.day && now.year === date.year && now.month === date.month) {\r\n        return `Today ${date.hours}:${date.minutes}`\r\n        // Yesterday\r\n    } else if (now.day === utilService.getFormatedDigits(+date.day + 1) && now.year === date.year && now.month === date.month) {\r\n        return `Yesterday ${date.hours}:${date.minutes}`\r\n    // Some Date\r\n    } else {\r\n        return `${date.day}/${date.month} ${date.hours}:${date.minutes}`\r\n    }\r\n}\r\n\r\nfunction getDateAsString(date: number) {\r\n    const dateObj = new Date(date)\r\n    const day = dateObj.getDate()\r\n    const month = dateObj.getMonth() + 1\r\n\r\n    return `${utilService.getFormatedDigits(day)}/${utilService.getFormatedDigits(month)}/${dateObj.getFullYear()}`\r\n}\r\n\r\nfunction getShortYear(year: number) {\r\n    return +(year + '').substr(2,3)\r\n}\r\n\r\nfunction calculatePeriodDays(startDate: number, endDate: number){\r\n    const rawResult = endDate - startDate\r\n\r\n    return Math.ceil(rawResult / 86400000)\r\n}\r\n\r\nfunction getDateFilterBy(filterBy: IFilterBy){\r\n    return {\r\n        startDate: filterBy.startDate,\r\n        endDate: filterBy.endDate\r\n    }\r\n}","import React from 'react'\r\nimport { IoMdExit, IoMdSettings } from 'react-icons/io'\r\nimport { MdAddCircle } from 'react-icons/md'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { RootState } from '../store/store'\r\nimport { setCurrentViewMode, setCurrentLabel, setLoader } from '../store/actions/app-state.action'\r\nimport { logout } from '../store/actions/user.action'\r\nimport { IDataObject } from '../interfaces/dataInterfaces'\r\nimport { setFilterBy } from '../store/actions/app-state.action'\r\nimport { useNavigate } from 'react-router'\r\nimport { IUser } from '../interfaces/userInterfaces'\r\nimport { sessionStorageService } from '../services/session-storage.service'\r\nimport { dateService } from '../services/date.service'\r\n\r\ninterface IMainAppMenuProps {\r\n    isMenuOpen: boolean;\r\n    setMenuOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n    setActionModalOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n    setSettingsModalOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nexport const MainAppMenu = ({ isMenuOpen, setMenuOpen, setActionModalOpen, setSettingsModalOpen }: IMainAppMenuProps) => {\r\n\r\n    const navigate = useNavigate()\r\n\r\n    const currentViewMode = useSelector((state: RootState) => state.appStateModule.currentViewMode)\r\n    const currentLabel = useSelector((state: RootState) => state.appStateModule.currentLabel)\r\n    const filterBy = useSelector((state: RootState) => state.appStateModule.filterBy)\r\n    const user: IUser = useSelector((state: RootState) => state.userModule.loggedInUser) || sessionStorageService.load('loggedInUser')\r\n    const data: IDataObject = useSelector((state: RootState) => state.userModule.data)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const handleViewModeClick = (value: string) => {\r\n        dispatch(setCurrentViewMode(value))\r\n        setMenuOpen(false)\r\n    }\r\n\r\n    const handleLabelClick = (value: string) => {\r\n        const label = currentLabel === value ? '' : value\r\n        const newFilterBy = { ...filterBy, label }\r\n        dispatch(setCurrentLabel(label))\r\n        dispatch(setFilterBy(newFilterBy))\r\n        setMenuOpen(false)\r\n    }\r\n\r\n    const handleLogout = () => {\r\n        (async () => {\r\n            dispatch(setLoader(true))\r\n            await dispatch(logout())\r\n            dispatch(setLoader(false))\r\n\r\n            // Reset the global filterBy\r\n            dispatch(setFilterBy({\r\n                searchTxt: '',\r\n                startDate: dateService.getMonthStartTimeStamp(),\r\n                endDate: dateService.getDayMaxHour(Date.now()),\r\n                label: '',\r\n                category: ''\r\n            }))\r\n            dispatch(setCurrentViewMode('Summery'))\r\n            navigate('/')\r\n        })()\r\n    }\r\n\r\n    const _getUserImage = () => {\r\n        if (user && user.picture) {\r\n            return user.picture\r\n        } else {\r\n            return 'https://res.cloudinary.com/dfj4zd14o/image/upload/v1638993249/MoneyPipe_Users_assets/user_xco1rj.png'\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={`main-app-menu ${isMenuOpen ? 'open-menu' : ''}`}>\r\n            <h1 className=\"app-logo\">MoneyPipe</h1>\r\n            <div className=\"user-details\">\r\n                <div className=\"image\" style={{ backgroundImage: `url(${_getUserImage()})` }}></div>\r\n                <h3>{user && user.firstName} {user && user.lastName}</h3>\r\n            </div>\r\n            <div className=\"main-menu\">\r\n                <div className=\"inner-menu\">\r\n                    <h2>View mode</h2>\r\n                    <ul>\r\n                        <li className={`${currentViewMode === 'Summery' ? 'menu-li-active' : ''}`}\r\n                            onClick={() => { handleViewModeClick('Summery') }}>\r\n                            Summery\r\n                        </li>\r\n                        <li className={`${currentViewMode === 'Graph' ? 'menu-li-active' : ''}`}\r\n                            onClick={() => { handleViewModeClick('Graph') }}>\r\n                            Graph\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <hr />\r\n                <div className=\"inner-menu labels-menu\">\r\n                    <h2>My labels</h2>\r\n                    <ul>\r\n                        {data && data.labels.map(label => {\r\n                            return <li onClick={() => { handleLabelClick(label.labelName) }}\r\n                                className={`${currentLabel === label.labelName ? 'menu-li-active' : ''}`}\r\n                                key={label._id}>\r\n                                {label.title}\r\n                            </li>\r\n                        })}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"actions-bar\">\r\n                <div className=\"account-actions\">\r\n                    <IoMdExit className=\"logout-btn\" onClick={handleLogout} />\r\n                    <IoMdSettings onClick={() => { setSettingsModalOpen(true); setMenuOpen(false) }} />\r\n                </div>\r\n                <div className=\"quick-actions\">\r\n                    <MdAddCircle onClick={() => { setActionModalOpen(true); setMenuOpen(false) }} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { GiHamburgerMenu } from 'react-icons/gi'\r\nimport { MdAddCircle } from 'react-icons/md'\r\n\r\ninterface IMobileMenuProps{\r\n    setMenuOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n    setActionModalOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nexport const MobileMenu = ({setMenuOpen, setActionModalOpen}: IMobileMenuProps) => {\r\n    return (\r\n        <div className=\"mobile-menu\">\r\n            <div className=\"mobile-menu-icon\">\r\n                <GiHamburgerMenu onClick={() => {setMenuOpen(prevState => !prevState)}}/>\r\n            </div>\r\n            <h1 className=\"app-logo\">MoneyPipe</h1>\r\n            <div className=\"mobile-menu-icon\">\r\n                <MdAddCircle onClick={() => {setActionModalOpen(true)}}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { RootState } from '../../store/store'\r\nimport { BiSearchAlt } from 'react-icons/bi'\r\nimport { dateService } from '../../services/date.service'\r\n\r\ninterface IHeaderProps {\r\n    setSearchModalOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nexport const HeaderBlock = ({setSearchModalOpen}: IHeaderProps) => {\r\n\r\n    const currentViewMode = useSelector((state: RootState) => state.appStateModule.currentViewMode)\r\n    const currentLabel = useSelector((state: RootState) => state.appStateModule.currentLabel)\r\n    const filterBy = useSelector((state: RootState) => state.appStateModule.filterBy)\r\n\r\n    const startDateString = dateService.getDateAsString(filterBy.startDate)\r\n    const endDateString = dateService.getDateAsString(filterBy.endDate)\r\n\r\n    return (\r\n        <div className=\"header-block\">\r\n            <div className=\"header-block-content\">\r\n                {currentLabel && <h2><span className=\"label\">{currentLabel}</span><p>-</p><span>{startDateString} - {endDateString}</span></h2>}\r\n                {(!currentLabel && currentViewMode) && <h2>{currentViewMode}<p>-</p><span>{startDateString} - {endDateString}</span></h2>}\r\n                <p>{currentViewMode} of incomes and expenses</p>\r\n            </div>\r\n            <div className=\"filter-btn\">\r\n                <BiSearchAlt onClick={() => {setSearchModalOpen(true)}}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { IDataObject } from '../../interfaces/dataInterfaces'\r\nimport { RootState } from '../../store/store'\r\n\r\nexport const BalanceBlock = () => {\r\n\r\n    const filterBy = useSelector((state: RootState) => state.appStateModule.filterBy)\r\n    const rawData: IDataObject = useSelector((state: RootState) => state.userModule.data)\r\n\r\n    const [balance, setBalance] = useState(0)\r\n    const [balanceColor, setBalanceColor] = useState('#000000')\r\n\r\n\r\n    useEffect(() => {\r\n        if(rawData){\r\n            const balance = rawData.actions.reduce((balance, action) => {\r\n                if (filterBy.category && action.category !== filterBy.category) return balance\r\n                if (filterBy.label && !action.labels.includes(filterBy.label)) return balance\r\n                if (!action.description.includes(filterBy.searchTxt)) return balance\r\n                \r\n                if (action.type === 'income') balance += +action.amount\r\n                if (action.type === 'expense') balance -= +action.amount\r\n                return balance\r\n            }, 0)\r\n            \r\n            setBalance(balance)\r\n            if(balance === 0){\r\n                setBalanceColor('#000000')\r\n            } else{\r\n                setBalanceColor(balance > 0 ? '#00600F' : '#8A0000')\r\n            }\r\n        }\r\n    }, [rawData, filterBy])\r\n\r\n    return (\r\n        <div className=\"header-block\">\r\n            <div className=\"header-block-content\">\r\n                <h2>Balance</h2>\r\n                <p>Total balance</p>\r\n            </div>\r\n            <div className=\"balance-amount\" style={{color: balanceColor}}>{balance ? Math.round(balance).toLocaleString() : '0'}{rawData && rawData.currency.sign}</div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { IoIosWarning } from 'react-icons/io'\r\n\r\nimport { HiShoppingCart } from 'react-icons/hi'\r\nimport { MdDirectionsCar, MdFastfood } from 'react-icons/md'\r\nimport { FaMotorcycle, FaBeer, FaEnvira, FaFly, FaHotjar, FaItunesNote, FaUntappd, FaBabyCarriage, FaBasketballBall, FaBicycle, FaBoxOpen, FaBook, FaBone, FaBus, FaBuilding, FaCampground, FaCamera, FaCapsules, FaCity, FaChartPie, FaChurch, FaCocktail, FaCode, FaCoins, FaDog, FaExclamationCircle, FaFaucet, FaExclamationTriangle, FaFilm, FaGasPump, FaGuitar, FaHamburger, FaHammer, FaHeart, FaInfoCircle, FaLaptop, FaMobileAlt, FaPeopleCarry, FaSmoking, FaSubway, FaUserGraduate, FaPlane } from 'react-icons/fa'\r\nimport { BsFillHouseDoorFill } from 'react-icons/bs'\r\nimport { GiClothes, GiMoneyStack } from 'react-icons/gi'\r\nimport { CgGym } from 'react-icons/cg'\r\nimport { AiFillBank, AiFillCodeSandboxCircle, AiFillPhone,AiOutlineAlignLeft, AiOutlineApple, AiOutlineGlobal } from 'react-icons/ai'\r\n\r\n\r\ninterface IconProps {\r\n    iconName: string;\r\n}\r\n\r\nexport const GetIcon = ({ iconName }: IconProps) => {\r\n    return <>\r\n        {iconName === 'shopping-cart' && <HiShoppingCart />}\r\n        {iconName === 'car' && <MdDirectionsCar />}\r\n        {iconName === 'bus' && <FaBus />}\r\n        {iconName === 'train' && <FaSubway />}\r\n        {iconName === 'food' && <MdFastfood />}\r\n        {iconName === 'motorcycle' && <FaMotorcycle />}\r\n        {iconName === 'code' && <FaCode />}\r\n        {iconName === 'beer' && <FaBeer />}\r\n        {iconName === 'cocktail' && <FaCocktail />}\r\n        {iconName === 'home' && <BsFillHouseDoorFill />}\r\n        {iconName === 'money' && <GiMoneyStack />}\r\n        {iconName === 'coins' && <FaCoins />}\r\n        {iconName === 'leaf' && <FaEnvira />}\r\n        {iconName === 'travel' && <FaFly />}\r\n        {iconName === 'fire' && <FaHotjar />}\r\n        {iconName === 'music' && <FaItunesNote />}\r\n        {iconName === 'bottles' && <FaUntappd />}\r\n        {iconName === 'baby' && <FaBabyCarriage />}\r\n        {iconName === 'ball' && <FaBasketballBall />}\r\n        {iconName === 'bicycle' && <FaBicycle />}\r\n        {iconName === 'plane' && <FaPlane />}\r\n        {iconName === 'box' && <FaBoxOpen />}\r\n        {iconName === 'book' && <FaBook />}\r\n        {iconName === 'student' && <FaUserGraduate />}\r\n        {iconName === 'bone' && <FaBone />}\r\n        {iconName === 'dog' && <FaDog />}\r\n        {iconName === 'building' && <FaBuilding />}\r\n        {iconName === 'camping' && <FaCampground />}\r\n        {iconName === 'camera' && <FaCamera />}\r\n        {iconName === 'capsules' && <FaCapsules />}\r\n        {iconName === 'pie-graph' && <FaChartPie />}\r\n        {iconName === 'industry' && <FaCity />}\r\n        {iconName === 'church' && <FaChurch />}\r\n        {iconName === 'exclamation' && <FaExclamationCircle />}\r\n        {iconName === 'water' && <FaFaucet />}\r\n        {iconName === 'warning' && <FaExclamationTriangle />}\r\n        {iconName === 'movie' && <FaFilm />}\r\n        {iconName === 'gas' && <FaGasPump />}\r\n        {iconName === 'guitar' && <FaGuitar />}\r\n        {iconName === 'hamburger' && <FaHamburger />}\r\n        {iconName === 'hammer' && <FaHammer />}\r\n        {iconName === 'heart' && <FaHeart />}\r\n        {iconName === 'information' && <FaInfoCircle />}\r\n        {iconName === 'laptop' && <FaLaptop />}\r\n        {iconName === 'smartphone' && <FaMobileAlt />}\r\n        {iconName === 'carry' && <FaPeopleCarry />}\r\n        {iconName === 'smoke' && <FaSmoking />}\r\n        {iconName === 'bank' && <AiFillBank />}\r\n        {iconName === 'cube' && <AiFillCodeSandboxCircle />}\r\n        {iconName === 'old-phone' && <AiFillPhone />}\r\n        {iconName === 'text' && <AiOutlineAlignLeft />}\r\n        {iconName === 'apple' && <AiOutlineApple />}\r\n        {iconName === 'globe' && <AiOutlineGlobal />}\r\n        {iconName === 'gym' && <CgGym />}\r\n        {iconName === 'clothes' && <GiClothes />}\r\n\r\n        {!iconName && <IoIosWarning />}\r\n    </>\r\n}","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { RootState } from '../store/store'\r\n\r\nexport const Loader = () => {\r\n\r\n    const isLoader = useSelector((state: RootState) => state.appStateModule.loaderState)\r\n\r\n    return (\r\n        <div className=\"loader-container\" style={isLoader ? {opacity: '1', pointerEvents: 'visible'} : {}}>\r\n            <div className=\"loader\"></div>\r\n        </div>\r\n    )\r\n}\r\n","import { useDispatch, useSelector } from 'react-redux'\r\nimport { IAction, IDataObject, IFilterBy } from '../interfaces/dataInterfaces'\r\nimport { RootState } from '../store/store'\r\nimport { GetIcon } from './GetIcon'\r\nimport { FaRegEdit } from 'react-icons/fa'\r\nimport { VscTrash } from 'react-icons/vsc'\r\nimport { CgDuplicate } from 'react-icons/cg'\r\nimport { setLoader, setSelectedAction } from '../store/actions/app-state.action'\r\nimport { deleteAction, duplicateAction } from '../store/actions/user.action'\r\nimport { dateService } from '../services/date.service'\r\nimport { Loader } from './Loader'\r\n\r\n\r\ninterface IActionProps {\r\n    action: IAction;\r\n    setActionModalOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\n\r\nexport const ActionPreview = ({ action, setActionModalOpen }: IActionProps) => {\r\n\r\n    const dispatch = useDispatch()\r\n    const rawData: IDataObject = useSelector((state: RootState) => state.userModule.data)\r\n    const selectedAction: IAction | null = useSelector((state: RootState) => state.appStateModule.selectedAction)\r\n    const filterBy: IFilterBy = useSelector((state: RootState) => state.appStateModule.filterBy)\r\n\r\n    const findCategoryData = (category: string) => {\r\n        if (rawData) {\r\n            const currCat = rawData.categories.find(currCat => currCat.title === category)\r\n            return currCat\r\n        }\r\n    }\r\n\r\n    const onDelete = async (ev: React.MouseEvent<HTMLElement>) => {\r\n        ev.stopPropagation()\r\n        dispatch(setLoader(true))\r\n        await dispatch(deleteAction(action._id, filterBy))\r\n        dispatch(setLoader(false))\r\n        dispatch(setSelectedAction(null))\r\n    }\r\n    \r\n    const onEdit = (ev: React.MouseEvent<HTMLElement>) => {\r\n        ev.stopPropagation()\r\n        setActionModalOpen(true)\r\n    }\r\n    \r\n    const onDuplicate = async (ev: React.MouseEvent<HTMLElement>) => {\r\n        ev.stopPropagation()\r\n        dispatch(setLoader(true))\r\n        await dispatch(duplicateAction(action._id, filterBy))\r\n        dispatch(setLoader(false))\r\n        dispatch(setSelectedAction(null))\r\n    }\r\n\r\n    const handleActionClick = () => {\r\n        if (!selectedAction) {\r\n            dispatch(setSelectedAction(action))\r\n        } else {\r\n            if (selectedAction._id !== action._id) {\r\n                dispatch(setSelectedAction(action))\r\n            } else {\r\n                dispatch(setSelectedAction(null))\r\n            }\r\n        }\r\n    }\r\n\r\n    const categoryData = findCategoryData(action.category)\r\n\r\n    if (!categoryData) return <Loader />\r\n    return (\r\n        <div className={`action-preview ${selectedAction?._id === action._id ? 'selected-action' : ''}`} onClick={handleActionClick}>\r\n            <div className=\"left-side \">\r\n                <div className=\"action-details-icon\" style={{ backgroundColor: categoryData.bgColor }}>\r\n                    <GetIcon iconName={categoryData.icon} />\r\n                </div>\r\n                <div className=\"action-data \">\r\n                    <p className=\"action-date \">{dateService.getRelativeDate(action.createdAt)}</p>\r\n                    <h3>{action.description}</h3>\r\n                    <p className=\"action-labels \">{action.labels.map(label => {\r\n                        return <span key={`label-${action.createdAt}-${label}`}>{label}</span>\r\n                    })}</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"right-side \">\r\n                <h3>{(+action.amount.toString()).toLocaleString()}{rawData.currency.sign}</h3>\r\n            </div>\r\n            <div className=\"action-preview-actions \" style={{ transform: selectedAction?._id === action._id ? 'translateX(0%)' : 'translateX(100%)' }}>\r\n                <button onClick={onDuplicate}><CgDuplicate /></button>\r\n                <button onClick={onEdit}><FaRegEdit /></button>\r\n                <button onClick={onDelete}><VscTrash /></button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { IActionsData, IDataMap, IDataObject, IPieData } from '../../interfaces/dataInterfaces'\r\nimport { RootState } from '../../store/store'\r\nimport { Pie } from 'react-chartjs-2';\r\nimport { ActionPreview } from '../ActionPreview';\r\nimport { utilService } from '../../services/util.service';\r\nimport { dateService } from '../../services/date.service';\r\nimport { Loader } from '../Loader';\r\n\r\ninterface ISummeryBlockProps {\r\n    type: string;\r\n    setActionModalOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nconst options = {\r\n    maintainAspectRatio: true,\r\n    plugins: {\r\n        legend: {\r\n            display: false\r\n        }\r\n    },\r\n    scale: {\r\n        ticks: {\r\n            precision: 0\r\n        },\r\n    },\r\n    aspectRatio: 1,\r\n}\r\n\r\nexport const SummeryBlock = ({ type, setActionModalOpen }: ISummeryBlockProps) => {\r\n\r\n    const rawData: IDataObject = useSelector((state: RootState) => state.userModule.data)\r\n    const currentViewMode = useSelector((state: RootState) => state.appStateModule.currentViewMode)\r\n    const filterBy = useSelector((state: RootState) => state.appStateModule.filterBy)\r\n\r\n    const [dataMap, setDataMap] = useState<IDataMap | null>(null)\r\n    const [pieData, setPieData] = useState<IPieData | null>(null)\r\n    const [actionsData, setActionsData] = useState<IActionsData | null>(null)\r\n\r\n    useEffect(() => {\r\n        if (rawData) {\r\n            let acc: IDataMap = {}\r\n\r\n            setDataMap(rawData.actions.reduce((dataMap, action) => {\r\n                if (action.type !== type) return dataMap\r\n                if (filterBy.category && action.category !== filterBy.category) return dataMap\r\n                if (filterBy.label && !action.labels.includes(filterBy.label)) return dataMap\r\n                if (!action.description.includes(filterBy.searchTxt)) return dataMap\r\n\r\n                if (dataMap[action.category]) {\r\n                    dataMap[action.category].sum += +action.amount\r\n                } else {\r\n                    dataMap[action.category] = {\r\n                        sum: +action.amount,\r\n                        color: rawData.categories.find(category => category.title === action.category)?.bgColor || \"#ffffff\"\r\n                    }\r\n                }\r\n\r\n                return dataMap\r\n            }, acc))\r\n\r\n\r\n            const actionsObj: any = {}\r\n\r\n            rawData.actions.filter(action => {\r\n                if (action.type !== type) return false\r\n                if (filterBy.category && action.category !== filterBy.category) return false\r\n                if (filterBy.label && !action.labels.includes(filterBy.label)) return false\r\n                if (!action.description.includes(filterBy.searchTxt)) return false\r\n                return true\r\n            }).sort((a, b) => b.createdAt - a.createdAt).forEach(action => {\r\n                const date = new Date(action.createdAt)\r\n                const dateStr = `${utilService.getFormatedDigits(date.getMonth() + 1)}/${dateService.getShortYear(date.getFullYear())}`\r\n                if (actionsObj[dateStr]) actionsObj[dateStr].push(action)\r\n                else {\r\n                    actionsObj[dateStr] = [action]\r\n                }\r\n            })\r\n            setActionsData(actionsObj)\r\n        }\r\n    }, [rawData, filterBy, type])\r\n\r\n    useEffect(() => {\r\n        if (dataMap) {\r\n            const labels = Object.entries(dataMap).sort((a,b) => b[1].sum - a[1].sum).map((data: any) => data[0])\r\n            const data = Object.entries(dataMap).sort((a,b) => b[1].sum - a[1].sum).map((data: any) => data[1].sum)\r\n            const backgroundColors = Object.entries(dataMap).sort((a,b) => b[1].sum - a[1].sum).map((data: any) => data[1].color)\r\n            \r\n            setPieData({\r\n                labels: labels,\r\n                datasets: [\r\n                    {\r\n                        label: '',\r\n                        data: data,\r\n                        backgroundColor: backgroundColors,\r\n                        borderColor: Object.values(dataMap).map(() => 'rgba(0, 0, 0, 1)'),\r\n                        borderWidth: 1,\r\n                    },\r\n                ],\r\n            })\r\n        }\r\n    }, [dataMap])\r\n\r\n    if (!rawData) return <Loader />\r\n\r\n    return (\r\n        <div className=\"summery-blocks\">\r\n            {currentViewMode === 'Summery' &&\r\n                <div className=\"summery-block\">\r\n                    <h2 className=\"summery-block-title\">{type === 'expense' ? 'Expenses' : 'Incomes'}</h2>\r\n                    {(pieData && pieData.labels.length === 0) && <h2 className=\"no-data-title\">No data to display</h2>}\r\n                    {pieData && <Pie data={pieData} options={options} className=\"pie\" />}\r\n\r\n                    <div className=\"summery-block-details\">\r\n                        {dataMap && Object.entries(dataMap).sort((a, b) => b[1].sum - a[1].sum).map(action => {\r\n                            return <div key={action[0] + action[1].sum + Math.random()} className=\"action-details\">\r\n                                <div className=\"action-color-dot\" style={{ backgroundColor: action[1].color }}></div>\r\n                                <h2 className=\"category\">{action[0]}</h2>\r\n                                <div className=\"sum\"><h2>{Math.round(action[1].sum).toLocaleString()}{rawData.currency.sign}</h2></div>\r\n                            </div>\r\n                        })}\r\n                    </div>\r\n                    {pieData && <h2 className=\"summery-block-total\" style={{ color: type === 'expense' ? '#8A0000' : '#00600F' }}>\r\n                        {Math.round(pieData?.datasets[0].data.reduce((sum, expense) => {\r\n                            sum += expense\r\n                            return sum\r\n                        }, 0)).toLocaleString()}{rawData.currency.sign}\r\n                    </h2>\r\n                    }\r\n                </div>\r\n            }\r\n            <div className=\"actions-block\">\r\n                {(actionsData && Object.entries(actionsData).length === 0) && <h2 className=\"no-data-title\">No data to display</h2>}\r\n                {actionsData && Object.entries(actionsData).map(month => {\r\n                    return (\r\n                        <React.Fragment key={`${month[0]}-${type}`}>\r\n                            <h3 className=\"actions-month\">{`${month[0]} - ${month[1].reduce((sum, action) => { sum += +action.amount; return sum }, 0).toLocaleString()}${rawData.currency.sign}`}</h3>\r\n                            {\r\n                                month[1].sort((a, b) => b.createdAt - a.createdAt).map(action => <ActionPreview key={action._id} action={action} setActionModalOpen={setActionModalOpen} />)\r\n                            }\r\n                        </React.Fragment>\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend } from 'chart.js';\r\nimport { Line } from 'react-chartjs-2';\r\nimport { useSelector } from 'react-redux';\r\nimport { RootState } from '../../store/store';\r\nimport { IDataObject, IFilterBy } from '../../interfaces/dataInterfaces';\r\nimport { dateService } from '../../services/date.service';\r\n\r\nChartJS.register(\r\n    CategoryScale,\r\n    LinearScale,\r\n    PointElement,\r\n    LineElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend\r\n);\r\n\r\nconst options = {\r\n    responsive: true,\r\n    plugins: {\r\n        legend: {\r\n            display: false,\r\n        }\r\n    }\r\n};\r\n\r\nexport const GraphBlock = () => {\r\n\r\n    const rawData: IDataObject = useSelector((state: RootState) => state.userModule.data)\r\n    const filterBy: IFilterBy = useSelector((state: RootState) => state.appStateModule.filterBy)\r\n\r\n    const [graphData, setGraphData] = useState<any>(null)\r\n\r\n    useEffect(() => {\r\n        if (!rawData) return\r\n\r\n        // Get the amount of days => endDate - startDate\r\n        const daysPeriod = dateService.calculatePeriodDays(filterBy.startDate, filterBy.endDate)\r\n\r\n        // Initializing the graph's Data\r\n        let expensesDataset: any = {\r\n            data: [],\r\n            borderColor: '#c41f02',\r\n            backgroundColor: '#eb2300',\r\n        }\r\n\r\n        let incomesDataset: any = {\r\n            data: [],\r\n            borderColor: '#18b50d',\r\n            backgroundColor: '#0ecf00',\r\n        }\r\n\r\n        let timePoints: string[] = []\r\n        let timeStamps: number[] = []\r\n\r\n        // Calculating the graph's timePoints (X axis) and timeStamps according to them\r\n        // For different days periods, the calculations and data is shown differently\r\n        if (daysPeriod <= 1) {\r\n            timePoints = ['00:00', '06:00', '12:00', '18:00', '23:59']\r\n            timeStamps = timePoints.map(timePoint => dateService.getDayTimestampByHour(filterBy.startDate, timePoint))\r\n\r\n        } else if (daysPeriod <= 31) {\r\n            const timeData = dateService.getDaysTimeData(daysPeriod, filterBy)\r\n            timePoints = timeData.timePoints\r\n            timeStamps = timeData.timeStamps\r\n\r\n        } else if (daysPeriod <= 365) {\r\n            const timeData = dateService.getMonthsTimeData(filterBy)\r\n            timePoints = timeData.timePoints\r\n            timeStamps = timeData.timeStamps\r\n\r\n        } else if (daysPeriod > 365) {\r\n            const timeData = dateService.getYearsTimeData(filterBy)\r\n            timePoints = timeData.timePoints\r\n            timeStamps = timeData.timeStamps\r\n\r\n        }\r\n\r\n        // No Data\r\n        if (timePoints.length === 0) {\r\n            setGraphData(null)\r\n        } else {\r\n            // Initialize with amounts of 0 for each time point in the graph\r\n            expensesDataset.data = timeStamps.map(timeStamp => 0)\r\n            incomesDataset.data = [...expensesDataset.data]\r\n\r\n            rawData.actions.filter(action => {\r\n                if (filterBy.category && action.category !== filterBy.category) return false\r\n                if (filterBy.label && !action.labels.includes(filterBy.label)) return false\r\n                if (!action.description.includes(filterBy.searchTxt)) return false\r\n                return true\r\n            }).forEach(action => {\r\n                timeStamps.forEach((timeStamp, idx, timeStamps) => {\r\n                    if (action.createdAt >= timeStamp) {\r\n                        if (idx === timeStamps.length - 1) {\r\n                            if (action.createdAt <= Date.now()) {\r\n                                if (action.type === 'expense') {\r\n                                    expensesDataset.data[idx] += +action.amount\r\n                                } else {\r\n                                    incomesDataset.data[idx] += +action.amount\r\n                                }\r\n                            }\r\n                        } else if (action.createdAt <= (timeStamps[idx + 1])) {\r\n                            if (action.type === 'expense') {\r\n                                expensesDataset.data[idx] += +action.amount\r\n                            } else {\r\n                                incomesDataset.data[idx] += +action.amount\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n            })\r\n\r\n            setGraphData({\r\n                labels: timePoints,\r\n                datasets: [expensesDataset, incomesDataset]\r\n            })\r\n        }\r\n\r\n    }, [rawData, filterBy])\r\n\r\n    return (\r\n        <div className=\"graph-block\" style={{ justifyContent: !graphData ? 'center' : '' }}>\r\n            {graphData && <Line redraw className=\"graph\" options={options} data={graphData} />}\r\n            {!graphData && <h2>No data to display</h2>}\r\n        </div>\r\n    )\r\n\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { RootState } from '../../store/store';\r\nimport Box from '@mui/material/Box';\r\nimport TextField from '@mui/material/TextField';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport MobileDatePicker from '@mui/lab/MobileDatePicker';\r\nimport Stack from '@mui/material/Stack';\r\nimport Button from '@mui/material/Button';\r\nimport { AiOutlineClose } from 'react-icons/ai'\r\nimport { FormControl, InputLabel, MenuItem, Select, SelectChangeEvent } from '@mui/material';\r\nimport { IDataObject } from '../../interfaces/dataInterfaces';\r\nimport { setFilterBy as setGlobalFilterBy } from '../../store/actions/app-state.action'\r\nimport { setCurrentLabel } from '../../store/actions/app-state.action';\r\nimport { dateService } from '../../services/date.service';\r\n\r\ninterface IModalProps {\r\n    closeModal: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nconst emptyFilterBy = {\r\n    category: \"\",\r\n    startDate: dateService.getMonthStartTimeStamp(),\r\n    endDate: dateService.getDayMaxHour(Date.now()),\r\n    label: \"\",\r\n    searchTxt: \"\"\r\n}\r\n\r\nexport const SearchModal = ({ closeModal }: IModalProps) => {\r\n\r\n    const dispatch = useDispatch()\r\n    const globalFilterBy = useSelector((state: RootState) => state.appStateModule.filterBy)\r\n    const rawData: IDataObject = useSelector((state: RootState) => state.userModule.data)\r\n\r\n    const [filterBy, setFilterBy] = useState(globalFilterBy)\r\n\r\n\r\n    const handleChange = (ev: SelectChangeEvent | any) => {\r\n        setFilterBy({ ...filterBy, [ev.target.name]: ev.target.value })\r\n    };\r\n\r\n    const handleDateChange = (date: number | null, field: string) => {\r\n        if (date) {\r\n            const selectedTimeStamp = new Date(date).getTime();\r\n\r\n            if(field === \"startDate\"){\r\n                if(selectedTimeStamp > filterBy.endDate){\r\n                    alert(\"Start date cannot be greater than the end date\")\r\n                    return\r\n                }\r\n            } else if(field === \"endDate\") {\r\n                if(dateService.getDayMinHour(selectedTimeStamp) > Date.now()){\r\n                    alert(\"End date cannot be greater than the current time\")\r\n                    return\r\n                }\r\n                if(selectedTimeStamp < filterBy.startDate){\r\n                    alert(\"End date cannot be smaller than the start date\")\r\n                    return\r\n                }\r\n            }\r\n\r\n            setFilterBy({ ...filterBy, [field]: field === 'endDate' ? dateService.getDayMaxHour(selectedTimeStamp) : selectedTimeStamp })\r\n        }\r\n    }\r\n\r\n    const handleApply = () => {\r\n        dispatch(setGlobalFilterBy(filterBy))\r\n        dispatch(setCurrentLabel(filterBy.label))\r\n        closeModal(false)\r\n    }\r\n\r\n    return (\r\n        <div className=\"modal search-modal\">\r\n            <div className=\"modal-header\">\r\n                <h3>Search</h3>\r\n                <AiOutlineClose className=\"exit-modal-btn\" onClick={() => { closeModal(false) }} />\r\n            </div>\r\n            <div className=\"modal-body\">\r\n                <TextField autoComplete=\"off\" className=\"txt-input\" value={filterBy.searchTxt} name=\"searchTxt\" onChange={handleChange} label=\"Search by text\" variant=\"outlined\" />\r\n                <Box className=\"modal-form\" component=\"form\" noValidate autoComplete=\"off\" onChange={handleChange}>\r\n                    <LocalizationProvider dateAdapter={AdapterDateFns}>\r\n                        <Stack spacing={3} className=\"date-filters\">\r\n                            <MobileDatePicker label=\"Start date\" inputFormat=\"dd/MM/yyyy\" value={filterBy.startDate} onAccept={(date) => { handleDateChange(date, 'startDate') }} onChange={(date) => { }} renderInput={(params) => <TextField autoComplete=\"off\" className=\"input-field\" {...params} />} />\r\n                            <MobileDatePicker label=\"End date\" inputFormat=\"dd/MM/yyyy\" value={filterBy.endDate} onAccept={(date) => { handleDateChange(date, 'endDate') }} onChange={(date) => { }} renderInput={(params) => <TextField autoComplete=\"off\" className=\"input-field\" {...params} />} />\r\n                        </Stack>\r\n                    </LocalizationProvider>\r\n                    <div className=\"input-selectors\">\r\n                        <div className=\"input-select\">\r\n                            <FormControl className=\"input-field\" fullWidth>\r\n                                <InputLabel id=\"category\">Category</InputLabel>\r\n                                <Select fullWidth labelId=\"category\" id=\"category\" value={filterBy.category} label=\"Category\" name=\"category\" onChange={handleChange}>\r\n                                    <MenuItem key={`cat-filter-none-option`} value={\"\"}>None</MenuItem>\r\n                                    {rawData && rawData.categories.map(category => <MenuItem key={`cat-filter-${category.title}`} value={category.title}>{category.title}</MenuItem>)}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </div>\r\n                        <div className=\"input-select\">\r\n                            <FormControl className=\"input-field\" fullWidth>\r\n                                <InputLabel id=\"label\">Label</InputLabel>\r\n                                <Select fullWidth labelId=\"label\" id=\"label\" value={filterBy.label} label=\"Label\" name=\"label\" onChange={handleChange}>\r\n                                    <MenuItem key={`lab-filter-none-option`} value={\"\"}>None</MenuItem>\r\n                                    {rawData && rawData.labels.map(label => <MenuItem key={`lab-filter-${label._id}`} value={label.labelName}>{label.title}</MenuItem>)}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </div>\r\n                    </div>\r\n                </Box>\r\n                <Stack className=\"form-buttons\" spacing={2} direction=\"row\">\r\n                    <Button variant=\"contained\" onClick={() => { setFilterBy(emptyFilterBy) }}>Clear</Button>\r\n                    <Button variant=\"contained\" onClick={() => { handleApply() }}>Apply</Button>\r\n                </Stack>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import { Button, Stack, TextField } from '@mui/material'\r\nimport { Box } from '@mui/system'\r\nimport React, { useState } from 'react'\r\nimport { AiOutlineClose } from 'react-icons/ai'\r\nimport { GetIcon } from '../GetIcon'\r\nimport { BsApp } from 'react-icons/bs'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { addCategory } from '../../store/actions/user.action'\r\nimport { IAction, ICategory, IFilterBy } from '../../interfaces/dataInterfaces'\r\nimport { utilService } from '../../services/util.service'\r\nimport { setLoader } from '../../store/actions/app-state.action'\r\nimport { ReactDimmer } from 'react-dimmer'\r\nimport { RootState } from '../../store/store'\r\n\r\ninterface IModalProps {\r\n    closeModal: React.Dispatch<React.SetStateAction<boolean>>;\r\n    setFormData?: React.Dispatch<React.SetStateAction<IAction>>;\r\n    categoryToEdit?: ICategory | null;\r\n}\r\n\r\nconst colors = utilService.getColors()\r\nconst icons = utilService.getIcons()\r\n\r\nconst btnErrorStyle = {\r\n    border: '2px #E34C4C solid'\r\n}\r\n\r\nexport const CategoryModal = ({ closeModal, setFormData, categoryToEdit }: IModalProps) => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const filterBy: IFilterBy = useSelector((state: RootState) => state.appStateModule.filterBy)\r\n\r\n    const [categoryName, setCategoryName] = useState(categoryToEdit?.title || '')\r\n    const [selectedIcon, setSelectedIcon] = useState(categoryToEdit?.icon || '')\r\n    const [selectedColor, setSelectedColor] = useState(categoryToEdit?.bgColor || 'gray')\r\n\r\n    const [isColorsModalOpen, setColorsModal] = useState(false)\r\n    const [isIconsModalOpen, setIconsModal] = useState(false)\r\n\r\n    const [errors, setErrors] = useState({\r\n        categoryName: false,\r\n        selectedIcon: false\r\n    })\r\n\r\n    const categoryNameChange = (ev: React.ChangeEvent<HTMLFormElement>) => {\r\n        setCategoryName(ev.target.value)\r\n    }\r\n\r\n    const selectColorHandle = (color: string) => {\r\n        setSelectedColor(color)\r\n        setColorsModal(false)\r\n    }\r\n\r\n    const selectIconHandle = (icon: string) => {\r\n        setSelectedIcon(icon)\r\n        setIconsModal(false)\r\n    }\r\n\r\n    const onSubmit = async () => {\r\n        const errorsCopy = { ...errors }\r\n\r\n        errorsCopy.categoryName = categoryName ? false : true\r\n        errorsCopy.selectedIcon = selectedIcon ? false : true\r\n\r\n\r\n        if (errorsCopy.categoryName || errorsCopy.selectedIcon) {\r\n            setErrors(errorsCopy)\r\n            return\r\n        } else {\r\n            const categoryFormatedName = categoryName[0].toUpperCase() + categoryName.substr(1)\r\n\r\n            const newCategory = {\r\n                _id: categoryToEdit?._id || '',\r\n                title: categoryFormatedName,\r\n                icon: selectedIcon,\r\n                bgColor: selectedColor\r\n            }\r\n            dispatch(setLoader(true))\r\n            await dispatch(addCategory(newCategory, filterBy))\r\n            dispatch(setLoader(false))\r\n            if(!categoryToEdit && setFormData){\r\n                setFormData(formData => { return { ...formData, category: categoryFormatedName } })\r\n            }\r\n            closeModal(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"category-add-modal modal\">\r\n                <div className=\"modal-header\">\r\n                    <h3>{categoryToEdit ? 'Edit category' : 'Add new category'}</h3>\r\n                    <AiOutlineClose className=\"exit-modal-btn\" onClick={() => { closeModal(false) }} />\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                    <Box className=\"modal-form\" component=\"form\" noValidate autoComplete=\"off\" onChange={categoryNameChange}>\r\n                        <TextField autoComplete=\"off\" className=\"txt-input\" error={errors.categoryName} value={categoryName} name=\"category\" label=\"category name\" variant=\"outlined\" />\r\n                    </Box>\r\n                    <Button variant=\"contained\" style={errors.selectedIcon ? btnErrorStyle : {}} onClick={() => { setIconsModal(true) }}>Pick icon</Button>\r\n                    <Button variant=\"contained\" onClick={() => { setColorsModal(true) }}>Pick color</Button>\r\n                    <div className=\"icon-preview\" style={{ backgroundColor: selectedColor }}>\r\n                        {!selectedIcon && <BsApp />}\r\n                        {selectedIcon && <GetIcon iconName={selectedIcon} />}\r\n                    </div>\r\n                    <Stack className=\"form-buttons\" spacing={2} direction=\"row\">\r\n                        <Button variant=\"contained\" onClick={onSubmit}>{categoryToEdit ? 'submit' : 'Add'}</Button>\r\n                    </Stack>\r\n                </div>\r\n            </div>\r\n            <ReactDimmer isOpen={isColorsModalOpen} exitDimmer={setColorsModal} zIndex={120} blur={1.5} saturate={85} />\r\n            <ReactDimmer isOpen={isIconsModalOpen} exitDimmer={setIconsModal} zIndex={120} blur={1.5} saturate={85} />\r\n\r\n            {isColorsModalOpen && <div className=\"colors-pick-modal pick-modal\">\r\n                {colors.map(color => <div key={color} onClick={() => { selectColorHandle(color) }} className=\"color\" style={{ backgroundColor: color }}></div>)}\r\n            </div>}\r\n\r\n            {isIconsModalOpen && <div className=\"icon-pick-modal pick-modal\">\r\n                {icons.map(icon => <div key={`cat-pick-${icon}`} onClick={() => { selectIconHandle(icon) }}><GetIcon iconName={icon} /></div>)}\r\n            </div>}\r\n        </>\r\n    )\r\n}\r\n","import { Button, Stack, TextField } from '@mui/material'\r\nimport { Box } from '@mui/system'\r\nimport React, { useState } from 'react'\r\nimport { AiOutlineClose } from 'react-icons/ai'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { IAction, IFilterBy, ILabel } from '../../interfaces/dataInterfaces'\r\nimport { setLoader } from '../../store/actions/app-state.action'\r\nimport { addLabel } from '../../store/actions/user.action'\r\nimport { RootState } from '../../store/store'\r\n\r\ninterface IModalProps {\r\n    closeModal: React.Dispatch<React.SetStateAction<boolean>>;\r\n    setFormData?: React.Dispatch<React.SetStateAction<IAction>>;\r\n    labelToEdit?: ILabel | null;\r\n}\r\n\r\nexport const LabelModal = ({ closeModal, setFormData, labelToEdit }: IModalProps) => {\r\n\r\n    const dispatch = useDispatch()\r\n    const filterBy: IFilterBy = useSelector((state: RootState) => state.appStateModule.filterBy)\r\n    const [label, setLabel] = useState(labelToEdit?.title || '')\r\n    const [error, setError] = useState(false)\r\n\r\n    const handleLabelChange = (ev: React.ChangeEvent<HTMLFormElement>) => {\r\n        setLabel(ev.target.value)\r\n    }\r\n\r\n    const onSubmitLabel = async () => {\r\n        if (!label) {\r\n            setError(true)\r\n            return\r\n        } else {\r\n            const formatedLabel = '#' + label.toLowerCase().split('').filter(char => char !== ' ').join('')\r\n\r\n            const newLabel = {\r\n                _id: labelToEdit?._id || '',\r\n                title: label,\r\n                labelName: formatedLabel\r\n            }\r\n            dispatch(setLoader(true))\r\n            const res = await dispatch(addLabel(newLabel, filterBy))\r\n            dispatch(setLoader(false))\r\n            if(!labelToEdit && setFormData && res){\r\n                setFormData(formData => { return { ...formData, labels: [...formData.labels, formatedLabel] } })\r\n            }\r\n            closeModal(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"label-add-modal modal\">\r\n            <div className=\"modal-header\">\r\n                <h3>{labelToEdit ? 'Edit label' : 'Add new label'}</h3>\r\n                <AiOutlineClose className=\"exit-modal-btn\" onClick={() => { closeModal(false) }} />\r\n            </div>\r\n            <div className=\"modal-body\">\r\n                <Box className=\"modal-form\" component=\"form\" noValidate autoComplete=\"off\" onChange={handleLabelChange}>\r\n                    <TextField autoComplete=\"off\" className=\"txt-input\" error={error} value={label} name=\"label\" label=\"label name\" variant=\"outlined\" />\r\n                </Box>\r\n                <Stack className=\"form-buttons\" spacing={2} direction=\"row\">\r\n                    <Button variant=\"contained\" onClick={onSubmitLabel}>{labelToEdit ? 'Submit' : 'Add'}</Button>\r\n                </Stack>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import { Theme, useTheme } from '@mui/material/styles';\r\nimport { Button, Chip, FormControl, InputLabel, MenuItem, OutlinedInput, Select, Stack, TextField } from '@mui/material'\r\nimport { Box } from '@mui/system'\r\nimport React, { useState } from 'react'\r\nimport { AiOutlineClose } from 'react-icons/ai'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { IAction, IDataObject, IFilterBy } from '../../interfaces/dataInterfaces'\r\nimport { RootState } from '../../store/store'\r\nimport { addAction } from '../../store/actions/user.action';\r\nimport { CategoryModal } from './CategoryModal';\r\nimport { LabelModal } from './LabelModal';\r\nimport { MobileDateTimePicker, LocalizationProvider } from '@mui/lab';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport { setLoader } from '../../store/actions/app-state.action';\r\nimport { ReactDimmer } from 'react-dimmer';\r\n\r\ninterface IActionModalProps {\r\n    closeModal: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\ninterface IErrors {\r\n    description: boolean,\r\n    category: boolean,\r\n    amount: boolean\r\n}\r\n\r\nconst ITEM_HEIGHT = 48;\r\nconst ITEM_PADDING_TOP = 8;\r\nconst MenuProps = {\r\n    PaperProps: {\r\n        style: {\r\n            maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n            width: 250,\r\n        },\r\n    },\r\n};\r\n\r\nfunction getStyles(title: string, labels: readonly string[], theme: Theme) {\r\n    return {\r\n        fontWeight:\r\n            labels.indexOf(title) === -1\r\n                ? theme.typography.fontWeightRegular\r\n                : theme.typography.fontWeightMedium,\r\n    };\r\n}\r\n\r\nexport const ActionModal = ({ closeModal }: IActionModalProps) => {\r\n\r\n    const selectedAction: IAction | null = useSelector((state: RootState) => state.appStateModule.selectedAction)\r\n    const data: IDataObject = useSelector((state: RootState) => state.userModule.data)\r\n    const filterBy: IFilterBy = useSelector((state: RootState) => state.appStateModule.filterBy)\r\n    const dispatch = useDispatch()\r\n    const theme = useTheme();\r\n\r\n    const [formData, setFormData] = useState<IAction>(selectedAction || {\r\n        _id: '',\r\n        type: 'expense',\r\n        labels: [],\r\n        category: '',\r\n        description: '',\r\n        amount: 0,\r\n        createdAt: Date.now()\r\n    })\r\n\r\n    const [errors, setErrors] = useState({\r\n        description: false,\r\n        category: false,\r\n        amount: false\r\n    })\r\n\r\n    const [addCategoryModal, setAddCategoryModal] = useState(false)\r\n    const [addLabelModal, setAddLabelModal] = useState(false)\r\n\r\n    const handleChange = (ev: any) => {\r\n        setFormData({ ...formData, [ev.target.name]: ev.target.value })\r\n    }\r\n\r\n    const handleLabelsChange = (ev: any) => {\r\n        const labels = ev.target.value\r\n        const formDataCopy = { ...formData, labels: typeof labels === 'string' ? labels.split(',') : labels }\r\n        setFormData(formDataCopy)\r\n    }\r\n\r\n    const handleDateChange = (date: number | null) => {\r\n        if (date) {\r\n            const timeStamp = new Date(date).getTime();\r\n            if (timeStamp > Date.now()) {\r\n                alert(\"Date cannot be greater than the current date\")\r\n                return\r\n            } else{\r\n                setFormData({...formData, createdAt: timeStamp})\r\n            }\r\n        }\r\n    }\r\n\r\n    const onSubmit = async () => {\r\n        let isValid = true\r\n\r\n        const errorsCopy = { ...errors }\r\n        for (const key in errors) {\r\n            if (!formData[key as keyof IAction]) {\r\n                isValid = false\r\n                errorsCopy[key as keyof IErrors] = true\r\n            } else if (key === 'amount' && formData.amount <= 0) {\r\n                isValid = false\r\n                errorsCopy.amount = true\r\n            } else {\r\n                errorsCopy[key as keyof IErrors] = false\r\n            }\r\n        }\r\n\r\n        if (!isValid) {\r\n            setErrors(errorsCopy)\r\n            return\r\n        } else {\r\n            dispatch(setLoader(true))\r\n            await dispatch(addAction(formData, filterBy))\r\n            dispatch(setLoader(false))\r\n            closeModal(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"modal action-add-edit-modal\">\r\n                <div className=\"modal-header\">\r\n                    <h3>{selectedAction ? 'Edit action' : 'Add new action'}</h3>\r\n                    <AiOutlineClose className=\"exit-modal-btn\" onClick={() => { closeModal(false) }} />\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                    <TextField autoComplete=\"off\" className=\"txt-input\" error={errors.description} value={formData.description} name=\"description\" onChange={handleChange} label=\"Description\" variant=\"outlined\" />\r\n                    <Box className=\"modal-form\" component=\"form\" noValidate autoComplete=\"off\" onChange={handleChange}>\r\n                        <div className=\"input-selectors\">\r\n                            <div className=\"input-select\">\r\n                                <FormControl className=\"input-field\" fullWidth>\r\n                                    <InputLabel id=\"type\">Type</InputLabel>\r\n                                    <Select fullWidth labelId=\"type\" id=\"type\" value={formData.type} label=\"Type\" name=\"type\" onChange={handleChange}>\r\n                                        <MenuItem key=\"type-expense\" value={'expense'}>Expense</MenuItem>\r\n                                        <MenuItem key=\"type-income\" value={'income'}>Income</MenuItem>\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </div>\r\n                            <div className=\"input-select\">\r\n                                <LocalizationProvider dateAdapter={AdapterDateFns}>\r\n                                    <Stack spacing={3}>\r\n                                        <MobileDateTimePicker label=\"Date & Time\" ampm={false} inputFormat=\"dd/MM/yyyy HH:mm\" value={formData.createdAt} onAccept={(date) => {handleDateChange(date)}} onChange={(date) => { }} renderInput={(params) => <TextField autoComplete=\"off\" className=\"input-field\" {...params} />} />\r\n                                    </Stack>\r\n                                </LocalizationProvider>\r\n\r\n                            </div>\r\n                            <div className=\"inner-group\">\r\n                                <div className=\"input-select\">\r\n                                    <FormControl className=\"input-field\" fullWidth>\r\n                                        <InputLabel id=\"category\">Category</InputLabel>\r\n                                        <Select fullWidth labelId=\"category\" id=\"category\" error={errors.category} value={formData.category} label=\"Category\" name=\"category\" onChange={handleChange}>\r\n                                            {data && data.categories.map(category => <MenuItem key={category._id} value={category.title}>{category.title}</MenuItem>)}\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                    <Button variant=\"contained\" onClick={() => { setAddCategoryModal(true) }}>Add</Button>\r\n                                </div>\r\n                                <div className=\"input-select\">\r\n                                    <FormControl className=\"input-field\" fullWidth>\r\n                                        <InputLabel id=\"label\">Labels</InputLabel>\r\n                                        <Select id=\"multiple-labels\" multiple value={formData.labels} onChange={handleLabelsChange}\r\n                                            input={<OutlinedInput id=\"select-multiple-chip\" label=\"Chip\" />}\r\n                                            renderValue={(selected) => (\r\n                                                <Box sx={{ display: 'flex', overflowX: 'auto', gap: 0.5 }}>\r\n                                                    {selected.map((value) => (\r\n                                                        <Chip key={value} label={value} />\r\n                                                    ))}\r\n                                                </Box>\r\n                                            )}\r\n                                            MenuProps={MenuProps}\r\n                                        >\r\n                                            {data.labels.map((label) => (\r\n                                                <MenuItem\r\n                                                    key={'options-' + label._id}\r\n                                                    value={label.labelName}\r\n                                                    style={getStyles(label.title, formData.labels, theme)}\r\n                                                >\r\n                                                    {label.title}\r\n                                                </MenuItem>\r\n                                            ))}\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                    <Button variant=\"contained\" onClick={() => { setAddLabelModal(true) }}>Add</Button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <TextField autoComplete=\"off\" className=\"txt-input amount-input\" type=\"number\" error={errors.amount} value={formData.amount} name=\"amount\" label=\"Amount\" variant=\"outlined\" />\r\n                    </Box>\r\n                    <Stack className=\"form-buttons\" spacing={2} direction=\"row\">\r\n                        <Button variant=\"contained\" onClick={onSubmit}>{selectedAction ? 'Submit' : 'Add new action'}</Button>\r\n                    </Stack>\r\n                </div>\r\n            </div>\r\n\r\n            <ReactDimmer isOpen={addCategoryModal} exitDimmer={setAddCategoryModal} zIndex={105} blur={1.5} saturate={85} />\r\n            <ReactDimmer isOpen={addLabelModal} exitDimmer={setAddLabelModal} zIndex={105} blur={1.5} saturate={85} />\r\n            {addCategoryModal && <CategoryModal closeModal={setAddCategoryModal} setFormData={setFormData} />}\r\n            {addLabelModal && <LabelModal closeModal={setAddLabelModal} setFormData={setFormData} />}\r\n        </>\r\n    )\r\n}\r\n","import { Button } from '@mui/material'\r\nimport React, { ReactElement } from 'react'\r\nimport { AiOutlineClose } from 'react-icons/ai'\r\n\r\ninterface IModalProps {\r\n    closeModal: React.Dispatch<React.SetStateAction<boolean>>;\r\n    title: string;\r\n    message: ReactElement<HTMLDivElement>;\r\n    setAnswer: (answer: boolean) => void;\r\n}\r\n\r\nexport const ConfirmModal = ({ closeModal, title, message, setAnswer }: IModalProps) => {\r\n\r\n    return (\r\n        <div className=\"confirm-modal modal\">\r\n            <div className=\"modal-header\">\r\n                <h3>{title}</h3>\r\n                <AiOutlineClose className=\"exit-modal-btn\" onClick={() => { closeModal(false); setAnswer(false)}} />\r\n            </div>\r\n            <div className=\"modal-body\">\r\n                {message}\r\n                <div className=\"buttons\">\r\n                    <Button onClick={() => {closeModal(false); setAnswer(true)}}>confirm</Button>\r\n                    <Button onClick={() => {closeModal(false); setAnswer(false)}}>cancel</Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import { Button, FormControl, FormHelperText, MenuItem, Select, SelectChangeEvent, TextField } from '@mui/material'\r\nimport { Box } from '@mui/system'\r\nimport React, { useEffect, useRef, useState } from 'react'\r\nimport { ReactDimmer } from 'react-dimmer'\r\nimport { AiOutlineClose } from 'react-icons/ai'\r\nimport { FaRegEdit } from 'react-icons/fa'\r\nimport { FiUpload } from 'react-icons/fi'\r\nimport { VscTrash } from 'react-icons/vsc'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { ICategory, IDataObject, IDataUpdateForm, IFilterBy, ILabel } from '../../interfaces/dataInterfaces'\r\nimport { IUpdateForm } from '../../interfaces/userInterfaces'\r\nimport { alertMessage, alertTitleMessage } from '../../services/alert.service'\r\nimport { sessionStorageService } from '../../services/session-storage.service'\r\nimport { userService } from '../../services/user.service'\r\nimport { utilService } from '../../services/util.service'\r\nimport { setLoader } from '../../store/actions/app-state.action'\r\nimport { deleteCategory, deleteLabel, deleteUser, updateData, updateUser } from '../../store/actions/user.action'\r\nimport { RootState } from '../../store/store'\r\nimport { GetIcon } from '../GetIcon'\r\nimport { Loader } from '../Loader'\r\nimport { CategoryModal } from './CategoryModal'\r\nimport { ConfirmModal } from './ConfirmModal'\r\nimport { LabelModal } from './LabelModal'\r\n\r\ninterface IModalProps {\r\n    closeModal: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nconst tabs = ['Account', 'Preferences', 'Categories', 'Labels']\r\n\r\nexport const SettingsModal = ({ closeModal }: IModalProps) => {\r\n\r\n    const [currentTab, setCurrentTab] = useState('Account')\r\n\r\n    return (\r\n        <div className=\"settings-modal modal\">\r\n            <div className=\"modal-header\">\r\n                <h3>Settings</h3>\r\n                <AiOutlineClose className=\"exit-modal-btn\" onClick={() => { closeModal(false) }} />\r\n            </div>\r\n            <div className=\"modal-body\">\r\n                <div className=\"tabs\">\r\n                    {tabs.map(tab => <h2 key={tab} onClick={() => { setCurrentTab(tab) }} style={currentTab === tab ? { color: 'black', fontWeight: '600', borderBottom: '3px black solid' } : {}}>{tab}</h2>)}\r\n                </div>\r\n                <div className=\"settings-body\">\r\n                    {currentTab === 'Account' && <AccountSettings closeModal={closeModal} />}\r\n                    {currentTab === 'Preferences' && <PreferencesSettings closeModal={closeModal} />}\r\n                    {currentTab === 'Categories' && <CategoriesSettings />}\r\n                    {currentTab === 'Labels' && <LabelsSettings />}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst AccountSettings = ({ closeModal }: IModalProps) => {\r\n\r\n    interface IForm {\r\n        firstName: string,\r\n        lastName: string,\r\n        password1: string,\r\n        password2: string,\r\n        picture: string | null\r\n    }\r\n\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n    const user = useSelector((state: RootState) => state.userModule.loggedInUser) || sessionStorageService.load('loggedInUser')\r\n\r\n    const [formData, setFormData] = useState<IForm>({\r\n        firstName: user?.firstName || '',\r\n        lastName: user?.lastName || '',\r\n        password1: '',\r\n        password2: '',\r\n        picture: null\r\n    })\r\n\r\n    const [confirmModal, setConfirmModal] = useState(false)\r\n\r\n    const [errors, setErrors] = useState({\r\n        password: false\r\n    })\r\n\r\n    const pictureRef = useRef(null)\r\n\r\n    const handleChange = (ev: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n        setFormData({ ...formData, [ev.target.name]: ev.target.value })\r\n    }\r\n\r\n    const handleUploadClick = () => {\r\n        if (user.userName === 'DemoUser') {\r\n            alertTitleMessage('Opps...', 'Changes cannot be made on demo user', 'warning', 3500)\r\n            return\r\n        }\r\n        if (pictureRef.current) {\r\n            const element: HTMLInputElement = pictureRef.current\r\n            element.click()\r\n        }\r\n    }\r\n\r\n    const handlePictureUpload = async (ev: React.ChangeEvent<HTMLInputElement>) => {\r\n        if (ev.target.files && ev.target.files.length > 0) {\r\n            dispatch(setLoader(true))\r\n            alertMessage('Uploading image to cloud...', 'info', 3500)\r\n            const url = await userService.uploadImg(ev.target.files[0])\r\n            if (url) {\r\n                setFormData({ ...formData, picture: url })\r\n                alertMessage('Image uploaded to cloud...', 'success', 3500)\r\n            } else {\r\n                alertMessage('Something went wrong, try again later...', 'warning', 3500)\r\n            }\r\n            dispatch(setLoader(false))\r\n        }\r\n    }\r\n\r\n    const handleSubmit = async () => {\r\n        const formToSubmit: IUpdateForm = {}\r\n\r\n        if (formData.password1 || formData.password2) {\r\n            if (formData.password1 !== formData.password2) {\r\n                setErrors({ ...errors, password: true })\r\n                return\r\n            } else {\r\n                formToSubmit.password = formData.password1\r\n            }\r\n        }\r\n\r\n        if (formData.firstName && formData.firstName !== user.firstName) {\r\n            formToSubmit.firstName = formData.firstName\r\n        }\r\n\r\n        if (formData.lastName && formData.lastName !== user.lastName) {\r\n            formToSubmit.lastName = formData.lastName\r\n        }\r\n\r\n        if (formData.picture) {\r\n            formToSubmit.picture = formData.picture\r\n        }\r\n\r\n        dispatch(setLoader(true))\r\n        await dispatch(updateUser(formToSubmit))\r\n        dispatch(setLoader(false))\r\n        closeModal(false)\r\n    }\r\n\r\n    const handleConfirmModal = async () => {\r\n        setConfirmModal(true)\r\n    }\r\n\r\n    const modalMessage = (\r\n        <div>\r\n            <h3>This is irreversible.</h3>\r\n            <h3>Deleting your account will delete all of it's data forever.</h3>\r\n        </div>\r\n    )\r\n\r\n    const handleModalAnswer = async (answer: boolean) => {\r\n        if (answer) {\r\n            dispatch(setLoader(true))\r\n            const res = await dispatch(deleteUser())\r\n            dispatch(setLoader(false))\r\n            if (!res) {\r\n                console.log('could not delete user')\r\n            } else {\r\n                navigate('/')\r\n            }\r\n        }\r\n    }\r\n\r\n    if (!user) return <Loader />\r\n\r\n    return (\r\n        <>\r\n            <div className=\"account-settings\">\r\n                <div className=\"inputs\">\r\n                    <TextField autoComplete=\"off\" value={formData.firstName} name=\"firstName\" onChange={handleChange} label=\"first name\" variant=\"outlined\" />\r\n                    <TextField autoComplete=\"off\" value={formData.lastName} name=\"lastName\" onChange={handleChange} label=\"last name\" variant=\"outlined\" />\r\n                    {!user.isGoogle &&\r\n                        <>\r\n                            <TextField autoComplete=\"off\" value={formData.password1} name=\"password1\" onChange={handleChange} label=\"new password\" type=\"password\" error={errors.password} variant=\"outlined\" />\r\n                            <TextField autoComplete=\"off\" value={formData.password2} name=\"password2\" onChange={handleChange} label=\"verify password\" type=\"password\" error={errors.password} variant=\"outlined\" />\r\n                        </>\r\n                    }\r\n                    <Button onClick={handleUploadClick}>upload new picture<FiUpload /></Button>\r\n                    <input ref={pictureRef} type=\"file\" onChange={handlePictureUpload} style={{ display: 'none' }} />\r\n                    <p>*change only what's needed</p>\r\n                </div>\r\n                <Button onClick={handleSubmit}>submit</Button>\r\n                <Button className=\"delete-account-btn\" onClick={handleConfirmModal}>delete account</Button>\r\n            </div>\r\n            <ReactDimmer isOpen={confirmModal} exitDimmer={setConfirmModal} zIndex={120} blur={1.5} saturate={85} />\r\n            {confirmModal && <ConfirmModal title=\"Warning\" message={modalMessage} setAnswer={handleModalAnswer} closeModal={setConfirmModal} />}\r\n        </>\r\n    )\r\n}\r\n\r\nconst PreferencesSettings = ({ closeModal }: IModalProps) => {\r\n\r\n    interface ICurrencyObj {\r\n        id: string,\r\n        currencySymbol?: string,\r\n        currencyName: string\r\n    }\r\n\r\n    const dispatch = useDispatch()\r\n    const rawData: IDataObject = useSelector((state: RootState) => state.userModule.data)\r\n    const filterBy: IFilterBy = useSelector((state: RootState) => state.appStateModule.filterBy)\r\n\r\n    const [formData, setFormData] = useState<IDataUpdateForm>({\r\n        currency: rawData.currency\r\n    })\r\n    const [currencies, setCurrencies] = useState<ICurrencyObj[] | null>(null)\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            const data = await utilService.getCurrencies()\r\n            const currencies = Object.entries(data).filter((currency: any) => { return currency[1].currencySymbol ? true : false }).map((currency: any) => currency[1])\r\n            setCurrencies(currencies)\r\n        })()\r\n    }, [])\r\n\r\n    const handleChange = (ev: SelectChangeEvent<string>) => {\r\n        if (ev.target.name === 'currency') {\r\n            const currency = {\r\n                code: ev.target.value,\r\n                sign: utilService.getSymbolFromCode(ev.target.value)\r\n            }\r\n            setFormData({ ...formData, [ev.target.name]: currency })\r\n        } else {\r\n            // If other fields come in the future...\r\n        }\r\n    }\r\n\r\n    const handleSubmit = async () => {\r\n        dispatch(setLoader(true))\r\n        await dispatch(updateData(formData, filterBy))\r\n        dispatch(setLoader(false))\r\n        closeModal(false)\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"preferences-settings\">\r\n            <div className=\"inputs\">\r\n                {formData.currency &&\r\n                    <Box sx={{ minWidth: 120 }}>\r\n                        <FormControl fullWidth>\r\n                            <FormHelperText>Currency sign</FormHelperText>\r\n                            <Select value={formData.currency.code} name=\"currency\" onChange={handleChange}>\r\n                                {currencies && currencies.map((currency: ICurrencyObj) => <MenuItem key={currency.id} value={currency.id}>{currency.currencyName} {currency.currencySymbol}</MenuItem>)}\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Box>\r\n                }\r\n            </div>\r\n            <Button onClick={handleSubmit}>submit</Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst CategoriesSettings = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    const rawData: IDataObject = useSelector((state: RootState) => state.userModule.data)\r\n    const filterBy: IFilterBy = useSelector((state: RootState) => state.appStateModule.filterBy)\r\n\r\n    const [addCategoryModal, setAddCategoryModal] = useState(false)\r\n    const [selectedCategory, setSelectedCategory] = useState<ICategory | null>(null)\r\n\r\n    useEffect(() => {\r\n        if (!addCategoryModal) {\r\n            setSelectedCategory(null)\r\n        }\r\n    }, [addCategoryModal])\r\n\r\n    const handleDelete = async (categoryId: string) => {\r\n        dispatch(setLoader(true))\r\n        const res = await dispatch(deleteCategory(categoryId, filterBy))\r\n        dispatch(setLoader(false))\r\n        if (!res) {\r\n            alertMessage(\"Cannot delete a category while it's in use\", 'danger', 3500)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"categories-settings\">\r\n                <div className=\"select-modal\">\r\n                    {rawData.categories.length === 0 && <h2 className=\"empty-msg\">No categories to show</h2>}\r\n                    {rawData && rawData.categories.map((category: ICategory) => {\r\n                        return (\r\n                            <div key={category._id} className=\"category-preview\">\r\n                                <div className=\"left-side\">\r\n                                    <div className=\"icon\" style={{ backgroundColor: category.bgColor }}>\r\n                                        <GetIcon iconName={category.icon} />\r\n                                    </div>\r\n                                    <p>{category.title}</p>\r\n                                </div>\r\n                                <div className=\"right-side\">\r\n                                    <div onClick={() => { setSelectedCategory(category); setAddCategoryModal(true) }}><FaRegEdit /></div>\r\n                                    <div className=\"delete-btn\" onClick={() => { handleDelete(category._id) }}><VscTrash /></div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n\r\n                <Button onClick={() => { setAddCategoryModal(true) }}>add new</Button>\r\n            </div>\r\n\r\n            {addCategoryModal &&\r\n                <>\r\n                    {addCategoryModal && <CategoryModal closeModal={setAddCategoryModal} categoryToEdit={selectedCategory} />}\r\n                </>\r\n            }\r\n            <ReactDimmer isOpen={addCategoryModal} exitDimmer={setAddCategoryModal} zIndex={100} blur={1.5} saturate={85} />\r\n        </>\r\n    )\r\n}\r\n\r\nconst LabelsSettings = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    const rawData: IDataObject = useSelector((state: RootState) => state.userModule.data)\r\n    const filterBy: IFilterBy = useSelector((state: RootState) => state.appStateModule.filterBy)\r\n\r\n    const [addLabelModal, setAddLabelModal] = useState(false)\r\n    const [selectedLabel, setSelectedLabel] = useState<ILabel | null>(null)\r\n\r\n    const [confirmModal, setConfirmModal] = useState(false)\r\n\r\n    const handleModalAnswer = async (answer: boolean) => {\r\n        if (answer && selectedLabel) {\r\n            dispatch(setLoader(true))\r\n            await dispatch(deleteLabel(selectedLabel._id, filterBy))\r\n            dispatch(setLoader(false))\r\n        }\r\n        setSelectedLabel(null)\r\n    }\r\n\r\n    const handleConfirmModal = async (label: ILabel) => {\r\n        setSelectedLabel(label)\r\n        setConfirmModal(true)\r\n    }\r\n\r\n    const modalMessage = (\r\n        <div>\r\n            <h3>This is irreversible.</h3>\r\n            <h3>Deleting a label will remove it from all of it's occurrences forever.</h3>\r\n        </div>\r\n    )\r\n\r\n    return (\r\n        <>\r\n            <div className=\"labels-settings\">\r\n                <div className=\"select-modal\">\r\n                    {rawData.labels.length === 0 && <h2 className=\"empty-msg\">No labels to show</h2>}\r\n                    {rawData && rawData.labels.map((label: ILabel) => {\r\n                        return (\r\n                            <div key={label._id} className=\"label-preview\">\r\n                                <div className=\"left-side\">\r\n                                    <h2 className=\"label\">{label.labelName}</h2>\r\n                                </div>\r\n                                <div className=\"right-side\">\r\n                                    <div onClick={() => { setSelectedLabel(label); setAddLabelModal(true) }}><FaRegEdit /></div>\r\n                                    <div className=\"delete-btn\" onClick={() => { handleConfirmModal(label) }}><VscTrash /></div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n\r\n                <Button onClick={() => { setAddLabelModal(true) }}>add new</Button>\r\n            </div>\r\n            {addLabelModal &&\r\n                <>\r\n                    {addLabelModal && <LabelModal closeModal={setAddLabelModal} labelToEdit={selectedLabel} />}\r\n                </>\r\n            }\r\n            <ReactDimmer isOpen={addLabelModal} exitDimmer={setAddLabelModal} zIndex={100} blur={1.5} saturate={85} />\r\n            <ReactDimmer isOpen={confirmModal} exitDimmer={setConfirmModal} zIndex={120} blur={1.5} saturate={85} />\r\n            {confirmModal && <ConfirmModal title=\"Warning\" message={modalMessage} setAnswer={handleModalAnswer} closeModal={setConfirmModal} />}\r\n        </>\r\n    )\r\n}\r\n\r\n","import React from 'react'\r\nimport { GoPrimitiveDot as MobileIdx } from 'react-icons/go'\r\nimport { useSelector } from 'react-redux'\r\nimport { RootState } from '../store/store'\r\n\r\nexport const PaginationDots = () => {\r\n\r\n    const blocksIdx = useSelector((state: RootState) => state.appStateModule.blocksIdx)\r\n    const isPaginationDots = useSelector((state: RootState) => state.appStateModule.isPaginationDots)\r\n\r\n    return (\r\n        <div className=\"pagination-dots\" style={{opacity: isPaginationDots ? '1' : '0'}}>\r\n            <MobileIdx className={`${blocksIdx ? 'fade-dot' : ''}`} />\r\n            <MobileIdx className={`${!blocksIdx ? 'fade-dot' : ''}`} />\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { MainAppMenu } from '../components/MainAppMenu'\r\nimport { MobileMenu } from '../components/MobileMenu'\r\nimport { HeaderBlock } from '../components/blocks/HeaderBlock'\r\nimport { getData, getUser } from '../store/actions/user.action'\r\nimport { BalanceBlock } from '../components/blocks/BalanceBlock'\r\nimport { SummeryBlock } from '../components/blocks/SummeryBlock'\r\nimport { RootState } from '../store/store'\r\nimport { GraphBlock } from '../components/blocks/GraphBlock'\r\nimport { SearchModal } from '../components/modals/SearchModal'\r\nimport { ActionModal } from '../components/modals/ActionModal'\r\nimport { setBlocksIdx, setLoader, setPaginationDots, setSelectedAction } from '../store/actions/app-state.action'\r\nimport { sessionStorageService } from '../services/session-storage.service'\r\nimport { dateService } from '../services/date.service'\r\nimport { SettingsModal } from '../components/modals/SettingsModal'\r\nimport { useNavigate } from 'react-router'\r\nimport { utilService } from '../services/util.service'\r\nimport { PaginationDots } from '../components/PaginationDots'\r\nimport { ReactDimmer } from 'react-dimmer'\r\n\r\nexport const MainApp = () => {\r\n\r\n    const navigate = useNavigate()\r\n    const dispatch = useDispatch()\r\n    const currentViewMode = useSelector((state: RootState) => state.appStateModule.currentViewMode)\r\n    const user = useSelector((state: RootState) => state.userModule.loggedInUser) || sessionStorageService.load('loggedInUser')\r\n    const filterBy = useSelector((state: RootState) => state.appStateModule.filterBy)\r\n    \r\n\r\n    const [isMenuOpen, setMenuOpen] = useState(false)\r\n    const [isSearchModalOpen, setSearchModalOpen] = useState(false)\r\n    const [isSettingsModalOpen, setSettingsModalOpen] = useState(false)\r\n    const [isActionModalOpen, setActionModalOpen] = useState(false)\r\n\r\n    const blocksRef = useRef(null)\r\n\r\n    useEffect(() => {\r\n        const _getData = async () => {\r\n            dispatch(setLoader(true))\r\n            await dispatch(getData(dateService.getDateFilterBy(filterBy)))\r\n            dispatch(setLoader(false))\r\n        }\r\n\r\n        const _getUser = async () => {\r\n            return await dispatch(getUser())\r\n        }\r\n\r\n        if(user){\r\n            _getData()\r\n        } else {\r\n            const fetchedUser = _getUser()\r\n            if(!fetchedUser){\r\n                navigate('/')\r\n            }\r\n        }\r\n    }, [dispatch, user, filterBy, navigate])\r\n\r\n    useEffect(() => {\r\n        if (!isActionModalOpen || isMenuOpen || isSettingsModalOpen) dispatch(setSelectedAction(null))\r\n    }, [dispatch, isActionModalOpen, isMenuOpen, isSettingsModalOpen])\r\n\r\n    useEffect(() => {\r\n        const updatePaginationDots = utilService.debounce((ev: any) => {\r\n            if(ev.target.scrollingElement.scrollTop > 0) {\r\n                dispatch(setPaginationDots(true))\r\n            } else {\r\n                dispatch(setPaginationDots(false))\r\n            }\r\n        }, 100)\r\n        \r\n        if(currentViewMode === 'Graph'){\r\n            if(window.scrollY > 0){\r\n                dispatch(setPaginationDots(true))\r\n            } else {\r\n                dispatch(setPaginationDots(false))\r\n            }\r\n            window.addEventListener('scroll', updatePaginationDots)\r\n        } else {\r\n            dispatch(setPaginationDots(true))\r\n            window.removeEventListener('scroll', updatePaginationDots)\r\n        }\r\n        \r\n        return () => {\r\n            window.removeEventListener('scroll', updatePaginationDots)\r\n        }\r\n    }, [dispatch, currentViewMode])\r\n\r\n\r\n    const _handleScroll = (ev: any) => {\r\n        if(ev.target.scrollLeft > 0) {\r\n            dispatch(setBlocksIdx(1))\r\n        } else {\r\n            dispatch(setBlocksIdx(0))\r\n        }\r\n    }\r\n\r\n    const handleBlocksScroll = utilService.debounce(_handleScroll, 100)\r\n\r\n    return (\r\n        <>\r\n            <div className=\"main-app\">\r\n                <MainAppMenu isMenuOpen={isMenuOpen} setMenuOpen={setMenuOpen} setActionModalOpen={setActionModalOpen} setSettingsModalOpen={setSettingsModalOpen} />\r\n                <div className=\"app-content\">\r\n                    <div className=\"full-screen-content\">\r\n                        <MobileMenu setMenuOpen={setMenuOpen} setActionModalOpen={setActionModalOpen} />\r\n                        <HeaderBlock setSearchModalOpen={setSearchModalOpen} />\r\n                        <BalanceBlock />\r\n                        {currentViewMode === 'Graph' && <GraphBlock />}\r\n                        <div ref={blocksRef} onScroll={handleBlocksScroll} className=\"main-content-blocks\">\r\n                            <SummeryBlock type=\"expense\" setActionModalOpen={setActionModalOpen} />\r\n                            <SummeryBlock type=\"income\" setActionModalOpen={setActionModalOpen} />\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n\r\n            <PaginationDots />\r\n\r\n            <ReactDimmer isOpen={isMenuOpen} exitDimmer={setMenuOpen} blur={1.5} saturate={85} />\r\n            <ReactDimmer isOpen={isSearchModalOpen} exitDimmer={setSearchModalOpen} blur={1.5} saturate={85} />\r\n            <ReactDimmer isOpen={isActionModalOpen} exitDimmer={setActionModalOpen} blur={1.5} saturate={85} />\r\n            <ReactDimmer isOpen={isSettingsModalOpen} exitDimmer={setSettingsModalOpen} blur={1.5} saturate={85} />\r\n\r\n            {isSearchModalOpen && <SearchModal closeModal={setSearchModalOpen} />}\r\n            {isActionModalOpen && <ActionModal closeModal={setActionModalOpen} />}\r\n            {isSettingsModalOpen && <SettingsModal closeModal={setSettingsModalOpen} />}\r\n        </>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\nimport { Route, Routes } from 'react-router'\r\nimport { HomePage } from './pages/HomePage';\r\nimport { MainApp } from './pages/MainApp';\r\nimport { Loader } from './components/Loader';\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <Loader />\r\n      <Routes>\r\n        <Route path='/mydata' element={<MainApp />} />\r\n        <Route path='/' element={<HomePage />} />\r\n      </Routes>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { IDataObject } from \"../../interfaces/dataInterfaces\"\r\nimport { IUser } from \"../../interfaces/userInterfaces\"\r\n\r\ninterface IState {\r\n    loggedInUser: IUser | null,\r\n    currentViewMode: string\r\n    currentLabel: string | null\r\n    data: IDataObject | null\r\n}\r\n\r\ninterface IReducerAction {\r\n    type: string,\r\n    [key: string]: any\r\n}\r\n\r\nconst initialState: IState = {\r\n    loggedInUser: null,\r\n    currentViewMode: 'Summery',\r\n    currentLabel: null,\r\n    data: null\r\n}\r\n\r\nexport const userReducer = (state = initialState, action: IReducerAction) => {\r\n    switch (action.type) {\r\n        case 'SET_USER':\r\n            return state = { ...state, loggedInUser: action.user }\r\n        case 'SET_DATA':\r\n            return state = { ...state, data: action.data }\r\n        default:\r\n            return state\r\n    }\r\n}","import { IAction, IFilterBy } from \"../../interfaces/dataInterfaces\"\r\nimport { dateService } from \"../../services/date.service\"\r\n\r\ninterface IState {\r\n    blocksIdx: number,\r\n    isPaginationDots: boolean,\r\n    loaderState: boolean;\r\n    currentViewMode: string;\r\n    currentLabel: string | null;\r\n    selectedAction: IAction | null;\r\n    filterBy: IFilterBy;\r\n}\r\n\r\ninterface IReducerAction {\r\n    type: string;\r\n    [key: string]: any;\r\n}\r\n\r\nconst initialState: IState = {\r\n    blocksIdx: 0,\r\n    isPaginationDots: false,\r\n    loaderState: false,\r\n    currentViewMode: 'Summery',\r\n    currentLabel: null,\r\n    selectedAction: null,\r\n    filterBy: {\r\n        searchTxt: '',\r\n        startDate: dateService.getMonthStartTimeStamp(),\r\n        endDate: dateService.getDayMaxHour(Date.now()),\r\n        label: '',\r\n        category: ''\r\n    }\r\n}\r\n\r\nexport const appStateReducer = (state = initialState, action: IReducerAction) => {\r\n    switch (action.type) {\r\n        case 'SET_BLOCKS_IDX':\r\n            return state = { ...state, blocksIdx: action.blocksIdx }\r\n        case 'SET_PAGINATION_DOTS':\r\n            return state = { ...state, isPaginationDots: action.isPaginationDots }\r\n        case 'SET_LOADER':\r\n            return state = { ...state, loaderState: action.loaderState }\r\n        case 'SET_VIEWMODE':\r\n            return state = { ...state, currentViewMode: action.viewMode }\r\n        case 'SET_LABEL':\r\n            return state = { ...state, currentLabel: action.label }\r\n        case 'SET_SELECTED_ACTION':\r\n            return state = { ...state, selectedAction: action.action }\r\n        case 'SET_FILTERBY':\r\n            return state = { ...state, filterBy: action.filterBy }\r\n        default:\r\n            return state\r\n    }\r\n}","import { createStore, applyMiddleware, combineReducers } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { userReducer } from './reducers/user.reducer'\r\nimport { appStateReducer } from './reducers/app-state.reducer'\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    userModule: userReducer,\r\n    appStateModule: appStateReducer\r\n})\r\n\r\n\r\n\r\n// export const store = createStore(rootReducer, applyMiddleware(thunk))\r\n// window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__();\r\n// Lets wire up thunk and also redux-dev-tools:\r\n// const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n// export const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(thunk))\r\n\r\n// Store types\r\nexport type AppDispatch = typeof store.dispatch\r\nexport type RootState = ReturnType<typeof store.getState>\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n    window.location.hostname === 'localhost' ||\r\n      // [::1] is the IPv6 localhost address.\r\n      window.location.hostname === '[::1]' ||\r\n      // 127.0.0.0/8 are considered localhost for IPv4.\r\n      window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n  );\r\n  \r\n  type Config = {\r\n    onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n    onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n  };\r\n  \r\n  export function register(config?: Config) {\r\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n      // The URL constructor is available in all browsers that support SW.\r\n      const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n      if (publicUrl.origin !== window.location.origin) {\r\n        // Our service worker won't work if PUBLIC_URL is on a different origin\r\n        // from what our page is served on. This might happen if a CDN is used to\r\n        // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n        return;\r\n      }\r\n  \r\n      window.addEventListener('load', () => {\r\n        const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n  \r\n        if (isLocalhost) {\r\n          // This is running on localhost. Let's check if a service worker still exists or not.\r\n          checkValidServiceWorker(swUrl, config);\r\n  \r\n          // Add some additional logging to localhost, pointing developers to the\r\n          // service worker/PWA documentation.\r\n          navigator.serviceWorker.ready.then(() => {\r\n            console.log(\r\n              'This web app is being served cache-first by a service ' +\r\n                'worker. To learn more, visit https://cra.link/PWA'\r\n            );\r\n          });\r\n        } else {\r\n          // Is not localhost. Just register service worker\r\n          registerValidSW(swUrl, config);\r\n        }\r\n      });\r\n    }\r\n  }\r\n  \r\n  function registerValidSW(swUrl: string, config?: Config) {\r\n    navigator.serviceWorker\r\n      .register(swUrl)\r\n      .then((registration) => {\r\n        registration.onupdatefound = () => {\r\n          const installingWorker = registration.installing;\r\n          if (installingWorker == null) {\r\n            return;\r\n          }\r\n          installingWorker.onstatechange = () => {\r\n            if (installingWorker.state === 'installed') {\r\n              if (navigator.serviceWorker.controller) {\r\n                // At this point, the updated precached content has been fetched,\r\n                // but the previous service worker will still serve the older\r\n                // content until all client tabs are closed.\r\n                console.log(\r\n                  'New content is available and will be used when all ' +\r\n                    'tabs for this page are closed. See https://cra.link/PWA.'\r\n                );\r\n  \r\n                // Execute callback\r\n                if (config && config.onUpdate) {\r\n                  config.onUpdate(registration);\r\n                }\r\n              } else {\r\n                // At this point, everything has been precached.\r\n                // It's the perfect time to display a\r\n                // \"Content is cached for offline use.\" message.\r\n                console.log('Content is cached for offline use.');\r\n  \r\n                // Execute callback\r\n                if (config && config.onSuccess) {\r\n                  config.onSuccess(registration);\r\n                }\r\n              }\r\n            }\r\n          };\r\n        };\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error during service worker registration:', error);\r\n      });\r\n  }\r\n  \r\n  function checkValidServiceWorker(swUrl: string, config?: Config) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl, {\r\n      headers: { 'Service-Worker': 'script' },\r\n    })\r\n      .then((response) => {\r\n        // Ensure service worker exists, and that we really are getting a JS file.\r\n        const contentType = response.headers.get('content-type');\r\n        if (\r\n          response.status === 404 ||\r\n          (contentType != null && contentType.indexOf('javascript') === -1)\r\n        ) {\r\n          // No service worker found. Probably a different app. Reload the page.\r\n          navigator.serviceWorker.ready.then((registration) => {\r\n            registration.unregister().then(() => {\r\n              window.location.reload();\r\n            });\r\n          });\r\n        } else {\r\n          // Service worker found. Proceed as normal.\r\n          registerValidSW(swUrl, config);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        console.log('No internet connection found. App is running in offline mode.');\r\n      });\r\n  }\r\n  \r\n  export function unregister() {\r\n    if ('serviceWorker' in navigator) {\r\n      navigator.serviceWorker.ready\r\n        .then((registration) => {\r\n          registration.unregister();\r\n        })\r\n        .catch((error) => {\r\n          console.error(error.message);\r\n        });\r\n    }\r\n  }","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport App from './App';\r\nimport { store } from './store/store';\r\nimport './styles/style.scss'\r\n\r\nimport ReactNotification from 'react-notifications-component'\r\nimport \"animate.css\"\r\nimport 'react-notifications-component/dist/theme.css'\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <ReactNotification />\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nserviceWorkerRegistration.register();"],"sourceRoot":""}