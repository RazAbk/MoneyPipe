(this.webpackJsonpmoneypipe=this.webpackJsonpmoneypipe||[]).push([[0],{208:function(e,t,a){},211:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),c=a(51),s=a.n(c),o=a(14),i=a(92),u=a(23),l=a(4),d=a(13),j=a(6),b=a.n(j),p=a(17),f=a(7),m=a(281),O=a(277),h=a(256),x=a(74),v=a.n(x);function g(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3500;return x.store.addNotification({message:e,type:t,insert:"top",container:"top-right",animationIn:["animate__animated","animate__backInRight"],animationOut:["animate__animated","animate__backOutRight"],dismiss:{duration:a,onScreen:!0}})}function y(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3500;return x.store.addNotification({title:e,message:t,type:a,insert:"top",container:"top-right",animationIn:["animate__animated","animate__backInRight"],animationOut:["animate__animated","animate__backOutRight"],dismiss:{duration:n,onScreen:!0}})}var w=a(93),N=a.n(w),k={load:function(e){var t=sessionStorage.getItem(e);return JSON.parse(t)},save:function(e,t){sessionStorage.setItem(e,JSON.stringify(t))},remove:function(e){sessionStorage.removeItem(e)}};var D=N.a.create({withCredentials:!0}),S={signup:function(e){return M.apply(this,arguments)},login:function(e){return T.apply(this,arguments)},logout:function(){return A.apply(this,arguments)},deleteUser:function(){return E.apply(this,arguments)},updateUser:function(e){return _.apply(this,arguments)},updateData:function(e,t){return I.apply(this,arguments)},getData:function(e){return F.apply(this,arguments)},getUser:function(){return L.apply(this,arguments)},addAction:function(e,t){return U.apply(this,arguments)},deleteAction:function(e,t){return P.apply(this,arguments)},duplicateAction:function(e,t){return B.apply(this,arguments)},addCategory:function(e,t){return W.apply(this,arguments)},deleteCategory:function(e,t){return R.apply(this,arguments)},addLabel:function(e,t){return Y.apply(this,arguments)},deleteLabel:function(e,t){return G.apply(this,arguments)},uploadImg:function(e){return z.apply(this,arguments)}},C="";function M(){return(M=Object(p.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.post("".concat(C,"/api/auth/signup"),t);case 3:return(a=e.sent).data.msg||k.save("loggedInUser",a.data),e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function T(){return(T=Object(p.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.post("".concat(C,"/api/auth/login"),t);case 3:return(a=e.sent).data.msg||k.save("loggedInUser",a.data),e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function A(){return(A=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.post("".concat(C,"/api/auth/logout"));case 3:k.remove("loggedInUser"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function E(){return(E=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.delete("".concat(C,"/api/user"));case 3:return(t=e.sent).data.msg||k.remove("loggedInUser"),e.abrupt("return",t.data);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function _(){return(_=Object(p.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.put("".concat(C,"/api/user/user"),t);case 3:return(a=e.sent).data.msg||k.save("loggedInUser",a.data),e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function I(){return(I=Object(p.a)(b.a.mark((function e(t,a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.put("".concat(C,"/api/user/data?startDate=").concat(a.startDate,"&endDate=").concat(a.endDate),t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function F(){return(F=Object(p.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.get("".concat(C,"/api/user/data?startDate=").concat(t.startDate,"&endDate=").concat(t.endDate));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function L(){return(L=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.get("".concat(C,"/api/user/user"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function U(){return(U=Object(p.a)(b.a.mark((function e(t,a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.post("".concat(C,"/api/user/action?startDate=").concat(a.startDate,"&endDate=").concat(a.endDate),t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function P(){return(P=Object(p.a)(b.a.mark((function e(t,a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.delete("".concat(C,"/api/user/action/").concat(t,"?startDate=").concat(a.startDate,"&endDate=").concat(a.endDate));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function B(){return(B=Object(p.a)(b.a.mark((function e(t,a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.post("".concat(C,"/api/user/action/").concat(t,"?startDate=").concat(a.startDate,"&endDate=").concat(a.endDate));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function W(){return(W=Object(p.a)(b.a.mark((function e(t,a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.post("".concat(C,"/api/user/category?startDate=").concat(a.startDate,"&endDate=").concat(a.endDate),t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function R(){return(R=Object(p.a)(b.a.mark((function e(t,a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.delete("".concat(C,"/api/user/category/").concat(t,"?startDate=").concat(a.startDate,"&endDate=").concat(a.endDate));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Y(){return(Y=Object(p.a)(b.a.mark((function e(t,a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.post("".concat(C,"/api/user/label?startDate=").concat(a.startDate,"&endDate=").concat(a.endDate),t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function G(){return(G=Object(p.a)(b.a.mark((function e(t,a){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.delete("".concat(C,"/api/user/label/").concat(t,"?startDate=").concat(a.startDate,"&endDate=").concat(a.endDate));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function z(){return(z=Object(p.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"dfj4zd14o","k1qiifqe",a="https://api.cloudinary.com/v1_1/".concat("dfj4zd14o","/image/upload"),(n=new FormData).append("file",t),n.append("upload_preset","k1qiifqe"),e.abrupt("return",fetch(a,{method:"POST",body:n}).then((function(e){return e.json()})).then((function(e){return e.url})).catch((function(e){return console.error(e),y("Opps, an error occurred","Could not upload image, try again later","danger",3500),null})));case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var H=function(e){return function(){var t=Object(p.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.signup(e);case 3:return n=t.sent,a({type:"SET_USER",user:n}),t.abrupt("return",n);case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},V=function(e){return function(){var t=Object(p.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.login(e);case 3:return n=t.sent,a({type:"SET_USER",user:n}),t.abrupt("return",n);case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},q=function(e){return function(){var t=Object(p.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.getData(e);case 3:return(n=t.sent).msg?y(n.title,n.msg,n.type,3500):a({type:"SET_DATA",data:n}),t.abrupt("return",n);case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},J=function(){return function(){var e=Object(p.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.getUser();case 3:return(null===(a=e.sent)||void 0===a?void 0:a.msg)?y(a.title,a.msg,a.type,3500):t({type:"SET_USER",user:a}),e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},X=function(e){return function(){var t=Object(p.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.updateUser(e);case 3:(n=t.sent).msg?y(n.title,n.msg,n.type,3500):a({type:"SET_USER",data:n}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},$=function(e,t){return function(){var a=Object(p.a)(b.a.mark((function a(n){var r;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,S.updateData(e,t);case 3:return(r=a.sent).msg?y(r.title,r.msg,r.type,3500):n({type:"SET_DATA",data:r}),a.abrupt("return",r);case 8:a.prev=8,a.t0=a.catch(0),console.error(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},K=function(e,t){return function(){var a=Object(p.a)(b.a.mark((function a(n){var r;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,S.addAction(e,t);case 3:return(r=a.sent).msg?y(r.title,r.msg,r.type,3500):n({type:"SET_DATA",data:r}),a.abrupt("return",r);case 8:a.prev=8,a.t0=a.catch(0),console.error(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},Z=function(e,t){return function(){var a=Object(p.a)(b.a.mark((function a(n){var r;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,S.deleteAction(e,t);case 3:(r=a.sent).msg?y(r.title,r.msg,r.type,3500):n({type:"SET_DATA",data:r}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.error(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},Q=function(e,t){return function(){var a=Object(p.a)(b.a.mark((function a(n){var r;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,S.duplicateAction(e,t);case 3:(r=a.sent).msg?y(r.title,r.msg,r.type,3500):n({type:"SET_DATA",data:r}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.error(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},ee=function(e,t){return function(){var a=Object(p.a)(b.a.mark((function a(n){var r;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,S.addCategory(e,t);case 3:return(r=a.sent).msg?y(r.title,r.msg,r.type,3500):n({type:"SET_DATA",data:r}),a.abrupt("return",r);case 8:a.prev=8,a.t0=a.catch(0),console.error(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},te=function(e,t){return function(){var a=Object(p.a)(b.a.mark((function a(n){var r;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,S.deleteCategory(e,t);case 3:return(r=a.sent)&&(r.msg?y(r.title,r.msg,r.type,3500):n({type:"SET_DATA",data:r})),a.abrupt("return",r);case 8:a.prev=8,a.t0=a.catch(0),console.error(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},ae=function(e,t){return function(){var a=Object(p.a)(b.a.mark((function a(n){var r;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,S.addLabel(e,t);case 3:if((r=a.sent).msg){a.next=9;break}return n({type:"SET_DATA",data:r}),a.abrupt("return",r);case 9:return y(r.title,r.msg,r.type,3500),a.abrupt("return",null);case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),console.error(a.t0);case 16:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(e){return a.apply(this,arguments)}}()},ne=function(e,t){return function(){var a=Object(p.a)(b.a.mark((function a(n){var r;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,S.deleteLabel(e,t);case 3:return(r=a.sent).msg?y(r.title,r.msg,r.type,3500):n({type:"SET_DATA",data:r}),a.abrupt("return",r);case 8:a.prev=8,a.t0=a.catch(0),console.error(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},re=function(e){return function(t){t({type:"SET_BLOCKS_IDX",blocksIdx:e})}},ce=function(e){return function(t){t({type:"SET_PAGINATION_DOTS",isPaginationDots:e})}},se=function(e){return function(t){t({type:"SET_LOADER",loaderState:e})}},oe=function(e){return function(t){t({type:"SET_VIEWMODE",viewMode:e})}},ie=function(e){return function(t){t({type:"SET_LABELS",labels:e})}},ue=function(e){return function(t){t({type:"SET_SELECTED_ACTION",action:e})}},le=function(e){return function(t){t({type:"SET_FILTERBY",filterBy:e})}},de=a(139),je=a.p+"static/media/graphssvg.5a5ce136.svg",be=a(1),pe=function(){var e=Object(o.b)(),t=Object(u.f)(),a=Object(o.c)((function(e){return e.userModule.loggedInUser})),r=Object(n.useState)("login"),c=Object(f.a)(r,2),s=c[0],i=c[1],j=Object(n.useState)({userName:"",firstName:"",lastName:"",password:"",isGoogle:!1}),x=Object(f.a)(j,2),v=x[0],w=x[1],N=Object(n.useState)({userName:!1,firstName:!1,lastName:!1,password:!1}),k=Object(f.a)(N,2),D=k[0],S=k[1];Object(n.useEffect)((function(){var t=function(){var t=Object(p.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(J());case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e]),Object(n.useEffect)((function(){a&&t("/mydata")}),[a,t]);var C=function(){var a=Object(p.a)(b.a.mark((function a(){var n,r,c,s,o,i;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=Object(d.a)({},D),r=[/^[A-Za-z0-9!@#$%^&*_].{8,}$/,/[A-Z]/,/[a-z]/,/[!@#$%^&*_]/],c=/^[A-Za-z][A-Za-z0-9!@#$%^&*_]{5,30}$/.test(v.userName),(s=r.every((function(e){return e.test(v.password)})))||y("Invalid password","Must include at least 8 characters: upper and lower case, symbols and numbers","danger",12e3),c||y("Invalid username","Must include at least 5 characters: letters, numbers and symbols","danger",12e3),n.userName=!v.userName,v.userName&&c?n.userName=!1:n.userName=!0,v.password&&s?n.password=!1:n.password=!0,n.firstName=!v.firstName,n.lastName=!v.lastName,o=!0,a.t0=b.a.keys(n);case 14:if((a.t1=a.t0()).done){a.next=21;break}if(i=a.t1.value,!n[i]){a.next=19;break}return o=!1,a.abrupt("break",21);case 19:a.next=14;break;case 21:o?Object(p.a)(b.a.mark((function a(){var n;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e(se(!0)),a.next=3,e(H(v));case 3:n=a.sent,e(se(!1)),n?t("/mydata"):S(Object(d.a)(Object(d.a)({},D),{},{userName:!0,password:!0}));case 6:case"end":return a.stop()}}),a)})))():S(n);case 22:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)("div",{className:"homepage",children:[Object(be.jsxs)("div",{className:"left-side",children:[Object(be.jsx)("h2",{className:"app-logo",children:"MoneyPipe"}),Object(be.jsxs)("div",{className:"prase",children:[Object(be.jsx)("h3",{children:"Tracking your money"}),Object(be.jsx)("h3",{children:"has never been so simple"})]}),Object(be.jsx)("img",{src:je,alt:"graph"})]}),Object(be.jsxs)("div",{className:"right-side",children:[Object(be.jsxs)("h4",{className:"demo-user-btn",children:["Watch the ",Object(be.jsx)("span",{onClick:function(){Object(p.a)(b.a.mark((function a(){var n;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e(se(!0)),a.next=3,e(V({userName:"DemoUser",password:"1234",isGoogle:!1}));case 3:n=a.sent,e(se(!1)),n?t("/mydata"):S((function(e){return Object(d.a)(Object(d.a)({},e),{},{userName:!0,password:!0})}));case 6:case"end":return a.stop()}}),a)})))()},children:Object(be.jsx)("b",{children:"demo"})})]}),Object(be.jsx)("h2",{className:"app-logo",children:"MoneyPipe"}),Object(be.jsxs)("h4",{className:"form-state-header",children:["signup"===s?"Have an account? ":"Don't have an account? ",Object(be.jsx)("span",{onClick:function(){i("signup"===s?"login":"signup")},children:Object(be.jsx)("b",{children:"signup"===s?"Login":"Signup"})})]}),Object(be.jsx)("h2",{className:"form-title",children:"signup"===s?"Create account":"Login"}),Object(be.jsxs)(h.a,{onChange:function(e){w((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(l.a)({},e.target.name,e.target.value))}))},component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},autoComplete:"off",children:[Object(be.jsx)(m.a,{autoComplete:"off",label:"username",error:D.userName,name:"userName",value:v.userName,helperText:D.userName?"invalid username":""}),"signup"===s&&Object(be.jsxs)("div",{className:"name-fields",children:[Object(be.jsx)(m.a,{autoComplete:"off",label:"first name",error:D.firstName,name:"firstName",value:v.firstName}),Object(be.jsx)(m.a,{autoComplete:"off",label:"last name",error:D.lastName,name:"lastName",value:v.lastName})]}),Object(be.jsx)(m.a,{autoComplete:"off",type:"password",label:"password",error:D.password,name:"password",value:v.password,helperText:D.password?"invalid password":""}),Object(be.jsx)(O.a,{onClick:"signup"===s?C:function(){var a=v.userName,n=v.password,r=Object(d.a)({},D),c=!0;a||(c=!1,r.userName=!0),n||(c=!1,r.password=!0),c?Object(p.a)(b.a.mark((function a(){var n;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e(se(!0)),a.next=3,e(V(v));case 3:n=a.sent,e(se(!1)),n?t("/mydata"):S((function(e){return Object(d.a)(Object(d.a)({},e),{},{userName:!0,password:!0})}));case 6:case"end":return a.stop()}}),a)})))():S(r)},children:"signup"===s?"Sign up":"Login"})]}),Object(be.jsx)("hr",{}),Object(be.jsx)(de.GoogleLogin,{clientId:"659372564566-op33t2hdhad8ljrfq6d8qq9fh7ahl9sl.apps.googleusercontent.com",buttonText:"Continue with Google",onSuccess:function(a){var n={userName:a.profileObj.email,firstName:a.profileObj.givenName,lastName:a.profileObj.familyName,password:a.profileObj.googleId,picture:a.profileObj.imageUrl,isGoogle:!0};Object(p.a)(b.a.mark((function a(){var r,c;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e(se(!0)),a.next=3,e(V({userName:n.userName,password:n.password,isGoogle:!0}));case 3:if(r=a.sent,e(se(!1)),!r){a.next=9;break}t("/mydata"),a.next=15;break;case 9:return e(se(!0)),a.next=12,e(H(n));case 12:c=a.sent,e(se(!1)),c?t("/mydata"):S(Object(d.a)(Object(d.a)({},D),{},{userName:!0,password:!0}));case 15:case"end":return a.stop()}}),a)})))()},onFailure:function(){g("Something went wrong, try again later...","warning",3500)},cookiePolicy:"single_host_origin"})]})]}),Object(be.jsx)("div",{className:"dimmer-screen"})]})},fe=a(20),me=a(82),Oe=a(66),he={load:function(e){var t=localStorage.getItem(e);return JSON.parse(t)},save:function(e,t){localStorage.setItem(e,JSON.stringify(t))},remove:function(e){localStorage.removeItem(e)}};var xe={debounce:function(e,t){var a;return function(){for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];clearTimeout(a),a=setTimeout((function(){e.apply(void 0,r)}),t)}},makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=a.charAt(Math.floor(Math.random()*a.length));return t},getFormatedDigits:function(e){return e<10?"0"+e:e},getCurrencies:function(){return ge.apply(this,arguments)},getSymbolFromCode:function(e){return he.load("currencies")[e].currencySymbol},getIcons:function(){return["shopping-cart","car","bus","train","food","motorcycle","bottles","code","laptop","smartphone","beer","cocktail","smoke","home","money","coins","leaf","travel","fire","music","baby","ball","bicycle","box","book","student","bone","dog","building","camping","camera","capsules","pie-graph","industry","church","exclamation","water","warning","movie","gas","guitar","hamburger","hammer","heart","information","carry","bank","cube","old-phone","text","apple","globe","gym","clothes","plane"]},getColors:function(){return["#a8071a","#cf1322","#f5222d","#ff4d4f","#ad2102","#d4380d","#fa541c","#ff7a45","#ad4e00","#d46b08","#fa8c16","#ffa940","#ad6800","#d48806","#faad14","#ffc53d","#ad8b00","#d4b106","#fadb14","#ffec3d","#5b8c00","#7cb305","#a0d911","#bae637","#237804","#389e0d","#52c41a","#73d13d","#006d75","#08979c","#13c2c2","#36cfc9","#0050b3","#096dd9","#1890ff","#40a9ff","#10239e","#1d39c4","#2f54eb","#597ef7","#391085","#531dab","#722ed1","#9254de","#9e1068","#c41d7f","#eb2f96","#f759ab","#000000","#141414","#1f1f1f","#262626"]}},ve="bfe964fcd3b43ab4dfb4";function ge(){return(ge=Object(p.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=he.load("currencies"))){e.next=6;break}return e.abrupt("return",t);case 6:return e.next=8,N.a.get("https://free.currconv.com/api/v7/currencies?apiKey=".concat(ve));case 8:return a=e.sent,he.save("currencies",a.data.results),e.abrupt("return",a.data.results);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}var ye={getDayTimestampByHour:function(e,t){var a=new Date(e);return new Date("".concat(a.getMonth()+1,"/").concat(a.getDate(),"/").concat(a.getFullYear()," ").concat(t)).getTime()},getDaysTimeData:function(e,t){for(var a=[],n=[],r=0;r<e;r++){var c=new Date(t.startDate+864e5*r);a.push("".concat(c.getDate(),"/").concat(c.getMonth()+1)),n.push(c.getTime())}return{timePoints:a,timeStamps:n}},getMonthsTimeData:function(e){var t=new Date(e.startDate),a=t.getMonth()+1,n=ke(t.getFullYear()),r=["".concat(xe.getFormatedDigits(a),"/").concat(n)],c=[e.startDate],s=we(a,n);for(;s<e.endDate;){var o=new Date(s);a=o.getMonth()+1,n=ke(o.getFullYear()),r.push("".concat(xe.getFormatedDigits(a),"/").concat(n)),c.push(o.getTime()-1e3),s=we(a,n)}return c.push(e.endDate),{timePoints:r,timeStamps:c}},getYearsTimeData:function(e){var t=new Date(e.startDate).getFullYear(),a=[],n=[e.startDate];for(;t<(new Date).getFullYear();)a.push("".concat(t)),n.push(new Date("01/01/".concat(t+1)).getTime()-1e3),t++;return a.push("".concat((new Date).getFullYear())),n.push(e.endDate),{timePoints:a,timeStamps:n}},getNextMonth:we,getMonthStartTimeStamp:Ne,getDayMaxHour:function(e){var t=new Date(e),a=t.getDate(),n=t.getMonth(),r=t.getFullYear();return new Date(r,n,a,23,59,59).getTime()},getDayMinHour:function(e){var t=new Date(e),a=t.getDate(),n=t.getMonth(),r=t.getFullYear();return new Date(r,n,a,0,0,0).getTime()},getRelativeDate:function(e){var t=new Date,a=new Date(e),n={day:xe.getFormatedDigits(t.getDate()),month:xe.getFormatedDigits(t.getMonth()+1),year:t.getFullYear(),hours:xe.getFormatedDigits(t.getHours()),minutes:xe.getFormatedDigits(t.getMinutes())},r={day:xe.getFormatedDigits(a.getDate()),month:xe.getFormatedDigits(a.getMonth()+1),year:a.getFullYear(),hours:xe.getFormatedDigits(a.getHours()),minutes:xe.getFormatedDigits(a.getMinutes())};return n.day===r.day&&n.year===r.year&&n.month===r.month?"Today ".concat(r.hours,":").concat(r.minutes):n.day===xe.getFormatedDigits(+r.day+1)&&n.year===r.year&&n.month===r.month?"Yesterday ".concat(r.hours,":").concat(r.minutes):"".concat(r.day,"/").concat(r.month," ").concat(r.hours,":").concat(r.minutes)},getDateAsString:function(e){var t=new Date(e),a=t.getDate(),n=t.getMonth()+1;return"".concat(xe.getFormatedDigits(a),"/").concat(xe.getFormatedDigits(n),"/").concat(t.getFullYear())},getShortYear:ke,calculatePeriodDays:function(e,t){var a=t-e;return Math.ceil(a/864e5)},getDateFilterBy:function(e){return{startDate:e.startDate,endDate:e.endDate}}};function we(e,t){return++e>12&&(e=1,t++),Ne(new Date("".concat(e,"/01/").concat(t)))}function Ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=e.getFullYear(),a=e.getMonth()+1,n=new Date("".concat(a,"/01/").concat(t));return n.getTime()}function ke(e){return+(e+"").substr(2,3)}var De=function(e){var t=e.isMenuOpen,a=e.setMenuOpen,n=e.setActionModalOpen,r=e.setSettingsModalOpen,c=Object(u.f)(),s=Object(o.c)((function(e){return e.appStateModule.currentViewMode})),i=Object(o.c)((function(e){return e.appStateModule.currentLabels})),l=Object(o.c)((function(e){return e.appStateModule.filterBy})),j=Object(o.c)((function(e){return e.userModule.loggedInUser}))||k.load("loggedInUser"),f=Object(o.c)((function(e){return e.userModule.data})),m=Object(o.b)(),O=function(e){m(oe(e)),a(!1)};return Object(be.jsxs)("div",{className:"main-app-menu ".concat(t?"open-menu":""),children:[Object(be.jsx)("h1",{className:"app-logo",children:"MoneyPipe"}),Object(be.jsxs)("div",{className:"user-details",children:[Object(be.jsx)("div",{className:"image",style:{backgroundImage:"url(".concat(j&&j.picture?j.picture:"https://res.cloudinary.com/dfj4zd14o/image/upload/v1638993249/MoneyPipe_Users_assets/user_xco1rj.png",")")}}),Object(be.jsxs)("h3",{children:[j&&j.firstName," ",j&&j.lastName]})]}),Object(be.jsxs)("div",{className:"main-menu",children:[Object(be.jsxs)("div",{className:"inner-menu",children:[Object(be.jsx)("h2",{children:"View mode"}),Object(be.jsxs)("ul",{children:[Object(be.jsx)("li",{className:"".concat("Summery"===s?"menu-li-active":""),onClick:function(){O("Summery")},children:"Summary"}),Object(be.jsx)("li",{className:"".concat("Graph"===s?"menu-li-active":""),onClick:function(){O("Graph")},children:"Graph"})]})]}),Object(be.jsx)("hr",{}),Object(be.jsxs)("div",{className:"inner-menu labels-menu",children:[Object(be.jsx)("h2",{children:"My labels"}),Object(be.jsx)("ul",{children:f&&f.labels.map((function(e){return Object(be.jsx)("li",{onClick:function(){!function(e){var t=Object(fe.a)(i);if(t.includes(e)){var n=t.findIndex((function(t){return t===e}));t.splice(n,1)}else t.push(e);var r=Object(d.a)(Object(d.a)({},l),{},{labels:t});m(ie(t)),m(le(r)),a(!1)}(e.labelName)},className:"".concat(i.includes(e.labelName)?"menu-li-active":""),children:e.title},e._id)}))})]})]}),Object(be.jsxs)("div",{className:"actions-bar",children:[Object(be.jsxs)("div",{className:"account-actions",children:[Object(be.jsx)(me.b,{className:"logout-btn",onClick:function(){Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(se(!0)),e.next=3,m(function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.logout();case 3:t({type:"SET_USER",user:null}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}());case 3:m(se(!1)),m(le({searchTxt:"",startDate:ye.getMonthStartTimeStamp(),endDate:ye.getDayMaxHour(Date.now()),labels:[],categories:[]})),m(oe("Summery")),c("/");case 7:case"end":return e.stop()}}),e)})))()}}),Object(be.jsx)(me.c,{onClick:function(){r(!0),a(!1)}})]}),Object(be.jsx)("div",{className:"quick-actions",children:Object(be.jsx)(Oe.a,{onClick:function(){n(!0),a(!1)}})})]})]})},Se=a(83),Ce=function(e){var t=e.setMenuOpen,a=e.setActionModalOpen;return Object(be.jsxs)("div",{className:"mobile-menu",children:[Object(be.jsx)("div",{className:"mobile-menu-icon",children:Object(be.jsx)(Se.b,{onClick:function(){t((function(e){return!e}))}})}),Object(be.jsx)("h1",{className:"app-logo",children:"MoneyPipe"}),Object(be.jsx)("div",{className:"mobile-menu-icon",children:Object(be.jsx)(Oe.a,{onClick:function(){a(!0)}})})]})},Me=a(141),Te=function(e){var t=e.setSearchModalOpen,a=Object(o.c)((function(e){return e.appStateModule.currentViewMode})),n=Object(o.c)((function(e){return e.appStateModule.currentLabels})),r=Object(o.c)((function(e){return e.appStateModule.filterBy})),c=ye.getDateAsString(r.startDate),s=ye.getDateAsString(r.endDate);return Object(be.jsxs)("div",{className:"header-block",children:[Object(be.jsxs)("div",{className:"header-block-content",children:[!!(null===n||void 0===n?void 0:n.length)&&Object(be.jsxs)("h2",{children:[Object(be.jsx)("span",{className:"labels",children:n.map((function(e){return Object(be.jsx)("span",{className:"label",children:e},e)}))}),Object(be.jsx)("p",{children:"-"}),Object(be.jsxs)("span",{className:"dates",children:[c," - ",s]})]}),!(null===n||void 0===n?void 0:n.length)&&a&&Object(be.jsxs)("h2",{children:["Summery"===a?"Summary":"Graph",Object(be.jsx)("p",{children:"-"}),Object(be.jsxs)("span",{children:[c," - ",s]})]}),Object(be.jsxs)("p",{children:["Summery"===a?"Summary":"Graph"," of incomes and expenses"]})]}),Object(be.jsx)("div",{className:"filter-btn",children:Object(be.jsx)(Me.a,{onClick:function(){t(!0)}})})]})},Ae=function(){var e=Object(o.c)((function(e){return e.appStateModule.filterBy})),t=Object(o.c)((function(e){return e.userModule.data})),a=Object(n.useState)(0),r=Object(f.a)(a,2),c=r[0],s=r[1],i=Object(n.useState)("#000000"),u=Object(f.a)(i,2),l=u[0],d=u[1];return Object(n.useEffect)((function(){if(t){var a=t.actions.reduce((function(t,a){var n,r;return(null===(n=e.categories)||void 0===n?void 0:n.length)&&e.categories.every((function(e){return e!==a.category}))||(null===(r=e.labels)||void 0===r?void 0:r.length)&&!a.labels.some((function(t){return e.labels.includes(t)}))?t:a.description.includes(e.searchTxt)?("income"===a.type&&(t+=+a.amount),"expense"===a.type&&(t-=+a.amount),t):t}),0);s(a),d(0===a?"#000000":a>0?"#00600F":"#8A0000")}}),[t,e]),Object(be.jsxs)("div",{className:"header-block",children:[Object(be.jsxs)("div",{className:"header-block-content",children:[Object(be.jsx)("h2",{children:"Balance"}),Object(be.jsx)("p",{children:"Total balance"})]}),Object(be.jsxs)("div",{className:"balance-amount",style:{color:l},children:[c?Math.round(c).toLocaleString():"0",t&&t.currency.sign]})]})},Ee=a(104),_e=a(142),Ie=a(21),Fe=a(96),Le=a(97),Ue=a(33),Pe=function(e){var t=e.iconName;return Object(be.jsxs)(be.Fragment,{children:["shopping-cart"===t&&Object(be.jsx)(_e.a,{}),"car"===t&&Object(be.jsx)(Oe.b,{}),"bus"===t&&Object(be.jsx)(Ie.i,{}),"train"===t&&Object(be.jsx)(Ie.O,{}),"food"===t&&Object(be.jsx)(Oe.c,{}),"motorcycle"===t&&Object(be.jsx)(Ie.J,{}),"code"===t&&Object(be.jsx)(Ie.q,{}),"beer"===t&&Object(be.jsx)(Ie.c,{}),"cocktail"===t&&Object(be.jsx)(Ie.p,{}),"home"===t&&Object(be.jsx)(Fe.b,{}),"money"===t&&Object(be.jsx)(Se.c,{}),"coins"===t&&Object(be.jsx)(Ie.r,{}),"leaf"===t&&Object(be.jsx)(Ie.t,{}),"travel"===t&&Object(be.jsx)(Ie.y,{}),"fire"===t&&Object(be.jsx)(Ie.E,{}),"music"===t&&Object(be.jsx)(Ie.G,{}),"bottles"===t&&Object(be.jsx)(Ie.P,{}),"baby"===t&&Object(be.jsx)(Ie.a,{}),"ball"===t&&Object(be.jsx)(Ie.b,{}),"bicycle"===t&&Object(be.jsx)(Ie.d,{}),"plane"===t&&Object(be.jsx)(Ie.L,{}),"box"===t&&Object(be.jsx)(Ie.g,{}),"book"===t&&Object(be.jsx)(Ie.f,{}),"student"===t&&Object(be.jsx)(Ie.Q,{}),"bone"===t&&Object(be.jsx)(Ie.e,{}),"dog"===t&&Object(be.jsx)(Ie.s,{}),"building"===t&&Object(be.jsx)(Ie.h,{}),"camping"===t&&Object(be.jsx)(Ie.k,{}),"camera"===t&&Object(be.jsx)(Ie.j,{}),"capsules"===t&&Object(be.jsx)(Ie.l,{}),"pie-graph"===t&&Object(be.jsx)(Ie.m,{}),"industry"===t&&Object(be.jsx)(Ie.o,{}),"church"===t&&Object(be.jsx)(Ie.n,{}),"exclamation"===t&&Object(be.jsx)(Ie.u,{}),"water"===t&&Object(be.jsx)(Ie.w,{}),"warning"===t&&Object(be.jsx)(Ie.v,{}),"movie"===t&&Object(be.jsx)(Ie.x,{}),"gas"===t&&Object(be.jsx)(Ie.z,{}),"guitar"===t&&Object(be.jsx)(Ie.A,{}),"hamburger"===t&&Object(be.jsx)(Ie.B,{}),"hammer"===t&&Object(be.jsx)(Ie.C,{}),"heart"===t&&Object(be.jsx)(Ie.D,{}),"information"===t&&Object(be.jsx)(Ie.F,{}),"laptop"===t&&Object(be.jsx)(Ie.H,{}),"smartphone"===t&&Object(be.jsx)(Ie.I,{}),"carry"===t&&Object(be.jsx)(Ie.K,{}),"smoke"===t&&Object(be.jsx)(Ie.N,{}),"bank"===t&&Object(be.jsx)(Ue.a,{}),"cube"===t&&Object(be.jsx)(Ue.b,{}),"old-phone"===t&&Object(be.jsx)(Ue.c,{}),"text"===t&&Object(be.jsx)(Ue.d,{}),"apple"===t&&Object(be.jsx)(Ue.e,{}),"globe"===t&&Object(be.jsx)(Ue.g,{}),"gym"===t&&Object(be.jsx)(Le.b,{}),"clothes"===t&&Object(be.jsx)(Se.a,{}),!t&&Object(be.jsx)(me.a,{})]})},Be=a(84),We=function(){var e=Object(o.c)((function(e){return e.appStateModule.loaderState}));return Object(be.jsx)("div",{className:"loader-container",style:e?{opacity:"1",pointerEvents:"visible"}:{},children:Object(be.jsx)("div",{className:"loader"})})},Re=function(e){var t,a=e.action,n=e.setActionModalOpen,r=Object(o.b)(),c=Object(o.c)((function(e){return e.userModule.data})),s=Object(o.c)((function(e){return e.appStateModule.selectedAction})),i=Object(o.c)((function(e){return e.appStateModule.filterBy})),u=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),r(se(!0)),e.next=4,r(Z(a._id,i));case 4:r(se(!1)),r(ue(null));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),r(se(!0)),e.next=4,r(Q(a._id,i));case 4:r(se(!1)),r(ue(null));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(e){if(c)return c.categories.find((function(t){return t.title===e}))}(a.category);return d?Object(be.jsxs)("div",{className:"action-preview ".concat((null===s||void 0===s?void 0:s._id)===a._id?"selected-action":""),onClick:function(){s?s._id!==a._id?r(ue(a)):r(ue(null)):r(ue(a))},children:[Object(be.jsxs)("div",{className:"left-side ",children:[Object(be.jsx)("div",{className:"action-details-icon",style:{backgroundColor:d.bgColor},children:Object(be.jsx)(Pe,{iconName:d.icon})}),Object(be.jsxs)("div",{className:"action-data ",children:[Object(be.jsx)("p",{className:"action-date ",children:ye.getRelativeDate(a.createdAt)}),Object(be.jsx)("h3",{children:a.description}),Object(be.jsx)("p",{className:"action-labels ",children:(null===(t=a.labels)||void 0===t?void 0:t.length)?a.labels.map((function(e){return Object(be.jsx)("span",{children:e},"label-".concat(a.createdAt,"-").concat(e))})):Object(be.jsx)("span",{})})]})]}),Object(be.jsx)("div",{className:"right-side ",children:Object(be.jsxs)("h3",{children:[(+a.amount.toString()).toLocaleString(),c.currency.sign]})}),Object(be.jsxs)("div",{className:"action-preview-actions ",style:{transform:(null===s||void 0===s?void 0:s._id)===a._id?"translateX(0%)":"translateX(100%)"},children:[Object(be.jsx)("button",{onClick:l,children:Object(be.jsx)(Le.a,{})}),Object(be.jsx)("button",{onClick:function(e){e.stopPropagation(),n(!0)},children:Object(be.jsx)(Ie.M,{})}),Object(be.jsx)("button",{onClick:u,children:Object(be.jsx)(Be.a,{})})]})]}):Object(be.jsx)(We,{})},Ye={maintainAspectRatio:!0,plugins:{legend:{display:!1}},scale:{ticks:{precision:0}},aspectRatio:1},Ge=function(e){var t=e.type,a=e.setActionModalOpen,c=Object(o.c)((function(e){return e.userModule.data})),s=Object(o.c)((function(e){return e.appStateModule.currentViewMode})),i=Object(o.c)((function(e){return e.appStateModule.filterBy})),u=Object(n.useState)(null),l=Object(f.a)(u,2),d=l[0],j=l[1],b=Object(n.useState)(null),p=Object(f.a)(b,2),m=p[0],O=p[1],h=Object(n.useState)(null),x=Object(f.a)(h,2),v=x[0],g=x[1];return Object(n.useEffect)((function(){if(c){j(c.actions.reduce((function(e,a){var n,r,s;if(a.type!==t)return e;if((null===(n=i.categories)||void 0===n?void 0:n.length)&&i.categories.every((function(e){return e!==a.category})))return e;if((null===(r=i.labels)||void 0===r?void 0:r.length)&&!a.labels.some((function(e){return i.labels.includes(e)})))return e;if(!a.description.includes(i.searchTxt))return e;e[a.category]?e[a.category].sum+=+a.amount:e[a.category]={sum:+a.amount,color:(null===(s=c.categories.find((function(e){return e.title===a.category})))||void 0===s?void 0:s.bgColor)||"#ffffff"};return e}),{}));var e={};c.actions.filter((function(e){var a,n;return e.type===t&&((!(null===(a=i.categories)||void 0===a?void 0:a.length)||!i.categories.every((function(t){return t!==e.category})))&&(!((null===(n=i.labels)||void 0===n?void 0:n.length)&&!e.labels.some((function(e){return i.labels.includes(e)})))&&!!e.description.includes(i.searchTxt)))})).sort((function(e,t){return t.createdAt-e.createdAt})).forEach((function(t){var a=new Date(t.createdAt),n="".concat(xe.getFormatedDigits(a.getMonth()+1),"/").concat(ye.getShortYear(a.getFullYear()));e[n]?e[n].push(t):e[n]=[t]})),g(e)}}),[c,i,t]),Object(n.useEffect)((function(){if(d){var e=Object.entries(d).sort((function(e,t){return t[1].sum-e[1].sum})).map((function(e){return e[0]})),t=Object.entries(d).sort((function(e,t){return t[1].sum-e[1].sum})).map((function(e){return e[1].sum})),a=Object.entries(d).sort((function(e,t){return t[1].sum-e[1].sum})).map((function(e){return e[1].color}));O({labels:e,datasets:[{label:"",data:t,backgroundColor:a,borderColor:Object.values(d).map((function(){return"rgba(0, 0, 0, 1)"})),borderWidth:1}]})}}),[d]),c?Object(be.jsxs)("div",{className:"summery-blocks",children:["Summery"===s&&Object(be.jsxs)("div",{className:"summery-block",children:[Object(be.jsx)("h2",{className:"summery-block-title",children:t}),m&&0===m.labels.length&&Object(be.jsx)("h2",{className:"no-data-title",children:"No data to display"}),m&&Object(be.jsx)("div",{className:"pie",children:Object(be.jsx)(Ee.b,{data:m,options:Ye})}),Object(be.jsx)("div",{className:"summery-block-details",children:d&&Object.entries(d).sort((function(e,t){return t[1].sum-e[1].sum})).map((function(e){return Object(be.jsxs)("div",{className:"action-details",children:[Object(be.jsx)("div",{className:"action-color-dot",style:{backgroundColor:e[1].color}}),Object(be.jsx)("h2",{className:"category",children:e[0]}),Object(be.jsx)("div",{className:"sum",children:Object(be.jsxs)("h2",{children:[Math.round(e[1].sum).toLocaleString(),c.currency.sign]})})]},e[0]+e[1].sum+Math.random())}))}),m&&Object(be.jsxs)("h2",{className:"summery-block-total ".concat(t),children:[Math.round(null===m||void 0===m?void 0:m.datasets[0].data.reduce((function(e,t){return e+=t}),0)).toLocaleString(),c.currency.sign]})]}),Object(be.jsxs)("div",{className:"actions-block",children:[v&&0===Object.entries(v).length&&Object(be.jsx)("h2",{className:"no-data-title",children:"No data to display"}),v&&Object.entries(v).map((function(e){return Object(be.jsxs)(r.a.Fragment,{children:[Object(be.jsx)("h3",{className:"actions-month",children:"".concat(e[0]," - ").concat(Math.round(e[1].reduce((function(e,t){return e+=+t.amount}),0)).toLocaleString()).concat(c.currency.sign)}),e[1].sort((function(e,t){return t.createdAt-e.createdAt})).map((function(e){return Object(be.jsx)(Re,{action:e,setActionModalOpen:a},e._id)}))]},"".concat(e[0],"-").concat(t))}))]})]}):Object(be.jsx)(We,{})},ze=a(37);ze.b.register(ze.a,ze.e,ze.f,ze.d,ze.g,ze.h,ze.c);var He={responsive:!0,plugins:{legend:{display:!1}}},Ve=function(){var e=Object(o.c)((function(e){return e.userModule.data})),t=Object(o.c)((function(e){return e.appStateModule.filterBy})),a=Object(n.useState)(null),r=Object(f.a)(a,2),c=r[0],s=r[1];return Object(n.useEffect)((function(){if(e){var a=ye.calculatePeriodDays(t.startDate,t.endDate),n={data:[],borderColor:"#c41f02",backgroundColor:"#eb2300"},r={data:[],borderColor:"#18b50d",backgroundColor:"#0ecf00"},c={data:[],borderColor:"#f78b08",backgroundColor:"#f78b08"},o=[],i=[];if(a<=1)i=(o=["00:00","06:00","12:00","18:00","23:59"]).map((function(e){return ye.getDayTimestampByHour(t.startDate,e)}));else if(a<=31){var u=ye.getDaysTimeData(a,t);o=u.timePoints,i=u.timeStamps}else if(a<=3650){var l=ye.getMonthsTimeData(t);o=l.timePoints,i=l.timeStamps}else if(a>3650){var d=ye.getYearsTimeData(t);o=d.timePoints,i=d.timeStamps}0===o.length?s(null):(n.data=i.map((function(e){return 0})),r.data=Object(fe.a)(n.data),c.data=Object(fe.a)(n.data),e.actions.filter((function(e){var a,n;return(!(null===(a=t.categories)||void 0===a?void 0:a.length)||!t.categories.every((function(t){return t!==e.category})))&&(!((null===(n=t.labels)||void 0===n?void 0:n.length)&&!e.labels.some((function(e){return t.labels.includes(e)})))&&!!e.description.includes(t.searchTxt))})).forEach((function(e){i.forEach((function(t,a,s){if(e.createdAt>=t)if(a===s.length-1){if(e.createdAt<=Date.now())switch(e.type){case"expense":n.data[a]+=+e.amount;break;case"income":r.data[a]+=+e.amount;break;case"investment":c.data[a]+=+e.amount}}else if(e.createdAt<=s[a+1])switch(e.type){case"expense":n.data[a]+=+e.amount;break;case"income":r.data[a]+=+e.amount;break;case"investment":c.data[a]+=+e.amount}}))})),s({labels:o,datasets:[n,r,c]}))}}),[e,t]),Object(be.jsxs)("div",{className:"graph-block",style:{justifyContent:c?"":"center"},children:[c&&Object(be.jsx)(Ee.a,{redraw:!0,className:"graph",options:He,data:c}),!c&&Object(be.jsx)("h2",{children:"No data to display"})]})},qe=a(263),Je=a(266),Xe=a(218),$e=a(278),Ke=a(264),Ze=a(273),Qe=a(274),et=a(268),tt=a(271),at={categories:[],startDate:ye.getMonthStartTimeStamp(),endDate:ye.getDayMaxHour(Date.now()),labels:[],searchTxt:""},nt=function(e){var t=e.closeModal,a=Object(o.b)(),r=Object(o.c)((function(e){return e.appStateModule.filterBy})),c=Object(o.c)((function(e){return e.userModule.data})),s=Object(n.useState)(r),i=Object(f.a)(s,2),u=i[0],j=i[1],b=function(e){j(Object(d.a)(Object(d.a)({},u),{},Object(l.a)({},e.target.name,e.target.value)))},p=function(e,t){if(e){var a=new Date(e).getTime();if("startDate"===t){if(a>u.endDate)return void alert("Start date cannot be greater than the end date")}else if("endDate"===t&&a<u.startDate)return void alert("End date cannot be smaller than the start date");j(Object(d.a)(Object(d.a)({},u),{},Object(l.a)({},t,"endDate"===t?ye.getDayMaxHour(a):a)))}};return Object(be.jsxs)("div",{className:"modal search-modal",children:[Object(be.jsxs)("div",{className:"modal-header",children:[Object(be.jsx)("h3",{children:"Search"}),Object(be.jsx)(Ue.f,{className:"exit-modal-btn",onClick:function(){t(!1)}})]}),Object(be.jsxs)("div",{className:"modal-body",children:[Object(be.jsx)(m.a,{autoComplete:"off",className:"txt-input",value:u.searchTxt,name:"searchTxt",onChange:b,label:"Search by text",variant:"outlined"}),Object(be.jsxs)(qe.a,{className:"modal-form",component:"form",noValidate:!0,autoComplete:"off",onChange:b,children:[Object(be.jsx)(Xe.b,{dateAdapter:Je.a,children:Object(be.jsxs)(Ke.a,{spacing:3,className:"date-filters",children:[Object(be.jsx)($e.a,{label:"Start date",inputFormat:"dd/MM/yyyy",value:u.startDate,onAccept:function(e){p(e,"startDate")},onChange:function(e){},renderInput:function(e){return Object(be.jsx)(m.a,Object(d.a)({autoComplete:"off",className:"input-field"},e))}}),Object(be.jsx)($e.a,{label:"End date",inputFormat:"dd/MM/yyyy",value:u.endDate,onAccept:function(e){p(e,"endDate")},onChange:function(e){},renderInput:function(e){return Object(be.jsx)(m.a,Object(d.a)({autoComplete:"off",className:"input-field"},e))}})]})}),Object(be.jsxs)("div",{className:"input-selectors",children:[Object(be.jsx)("div",{className:"input-select",children:Object(be.jsxs)(Ze.a,{className:"input-field",fullWidth:!0,children:[Object(be.jsx)(Qe.a,{id:"category",children:"Category"}),Object(be.jsx)(et.a,{fullWidth:!0,labelId:"category",id:"category",multiple:!0,placeholder:"Select Categories",value:u.categories,label:"Category",name:"categories",onChange:b,children:c&&c.categories.map((function(e){return Object(be.jsx)(tt.a,{value:e.title,children:e.title},"cat-filter-".concat(e.title))}))})]})}),Object(be.jsx)("div",{className:"input-select",children:Object(be.jsxs)(Ze.a,{className:"input-field",fullWidth:!0,children:[Object(be.jsx)(Qe.a,{id:"label",children:"Label"}),Object(be.jsx)(et.a,{fullWidth:!0,labelId:"label",id:"label",placeholder:"Select Labels",multiple:!0,value:u.labels,label:"Label",name:"labels",onChange:b,children:c&&c.labels.map((function(e){return Object(be.jsx)(tt.a,{value:e.labelName,children:e.title},"lab-filter-".concat(e._id))}))})]})})]})]}),Object(be.jsxs)(Ke.a,{className:"form-buttons",spacing:2,direction:"row",children:[Object(be.jsx)(O.a,{variant:"contained",onClick:function(){j(at)},children:"Clear"}),Object(be.jsx)(O.a,{variant:"contained",onClick:function(){a(le(u)),a(ie(u.labels)),t(!1)},children:"Apply"})]})]})]})},rt=a(47),ct=a(275),st=a(279),ot=a(36),it=xe.getColors(),ut=xe.getIcons(),lt={border:"2px #E34C4C solid"},dt=function(e){var t=e.closeModal,a=e.setFormData,r=e.categoryToEdit,c=Object(o.b)(),s=Object(o.c)((function(e){return e.appStateModule.filterBy})),i=Object(n.useState)((null===r||void 0===r?void 0:r.title)||""),u=Object(f.a)(i,2),l=u[0],j=u[1],x=Object(n.useState)((null===r||void 0===r?void 0:r.icon)||""),v=Object(f.a)(x,2),g=v[0],y=v[1],w=Object(n.useState)((null===r||void 0===r?void 0:r.bgColor)||"gray"),N=Object(f.a)(w,2),k=N[0],D=N[1],S=Object(n.useState)(!1),C=Object(f.a)(S,2),M=C[0],T=C[1],A=Object(n.useState)(!1),E=Object(f.a)(A,2),_=E[0],I=E[1],F=Object(n.useState)({categoryName:!1,selectedIcon:!1}),L=Object(f.a)(F,2),U=L[0],P=L[1],B=function(){var e=Object(p.a)(b.a.mark((function e(){var n,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=Object(d.a)({},U)).categoryName=!l,n.selectedIcon=!g,!n.categoryName&&!n.selectedIcon){e.next=8;break}return P(n),e.abrupt("return");case 8:return o=l[0].toUpperCase()+l.substr(1),i={_id:(null===r||void 0===r?void 0:r._id)||"",title:o,icon:g,bgColor:k},c(se(!0)),e.next=13,c(ee(i,s));case 13:c(se(!1)),!r&&a&&a((function(e){return Object(d.a)(Object(d.a)({},e),{},{category:o})})),t(!1);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)("div",{className:"category-add-modal modal",children:[Object(be.jsxs)("div",{className:"modal-header",children:[Object(be.jsx)("h3",{children:r?"Edit category":"Add new category"}),Object(be.jsx)(Ue.f,{className:"exit-modal-btn",onClick:function(){t(!1)}})]}),Object(be.jsxs)("div",{className:"modal-body",children:[Object(be.jsx)(h.a,{className:"modal-form",component:"form",noValidate:!0,autoComplete:"off",onChange:function(e){j(e.target.value)},children:Object(be.jsx)(m.a,{autoComplete:"off",className:"txt-input",error:U.categoryName,value:l,name:"category",label:"category name",variant:"outlined"})}),Object(be.jsx)(O.a,{variant:"contained",style:U.selectedIcon?lt:{},onClick:function(){I(!0)},children:"Pick icon"}),Object(be.jsx)(O.a,{variant:"contained",onClick:function(){T(!0)},children:"Pick color"}),Object(be.jsxs)("div",{className:"icon-preview",style:{backgroundColor:k},children:[!g&&Object(be.jsx)(Fe.a,{}),g&&Object(be.jsx)(Pe,{iconName:g})]}),Object(be.jsx)(Ke.a,{className:"form-buttons",spacing:2,direction:"row",children:Object(be.jsx)(O.a,{variant:"contained",onClick:B,children:r?"submit":"Add"})})]})]}),Object(be.jsx)(ot.a,{isOpen:M,exitDimmer:T,zIndex:120,blur:1.5,saturate:85}),Object(be.jsx)(ot.a,{isOpen:_,exitDimmer:I,zIndex:120,blur:1.5,saturate:85}),M&&Object(be.jsx)("div",{className:"colors-pick-modal pick-modal",children:it.map((function(e){return Object(be.jsx)("div",{onClick:function(){!function(e){D(e),T(!1)}(e)},className:"color",style:{backgroundColor:e}},e)}))}),_&&Object(be.jsx)("div",{className:"icon-pick-modal pick-modal",children:ut.map((function(e){return Object(be.jsx)("div",{onClick:function(){!function(e){y(e),I(!1)}(e)},children:Object(be.jsx)(Pe,{iconName:e})},"cat-pick-".concat(e))}))})]})},jt=function(e){var t=e.closeModal,a=e.setFormData,r=e.labelToEdit,c=Object(o.b)(),s=Object(o.c)((function(e){return e.appStateModule.filterBy})),i=Object(n.useState)((null===r||void 0===r?void 0:r.title)||""),u=Object(f.a)(i,2),l=u[0],j=u[1],x=Object(n.useState)(!1),v=Object(f.a)(x,2),g=v[0],y=v[1],w=function(){var e=Object(p.a)(b.a.mark((function e(){var n,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=5;break}return y(!0),e.abrupt("return");case 5:return n="#"+l.toLowerCase().split("").filter((function(e){return" "!==e})).join(""),o={_id:(null===r||void 0===r?void 0:r._id)||"",title:l,labelName:n},c(se(!0)),e.next=10,c(ae(o,s));case 10:i=e.sent,c(se(!1)),!r&&a&&i&&a((function(e){return Object(d.a)(Object(d.a)({},e),{},{labels:[].concat(Object(fe.a)(e.labels),[n])})})),t(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(be.jsxs)("div",{className:"label-add-modal modal",children:[Object(be.jsxs)("div",{className:"modal-header",children:[Object(be.jsx)("h3",{children:r?"Edit label":"Add new label"}),Object(be.jsx)(Ue.f,{className:"exit-modal-btn",onClick:function(){t(!1)}})]}),Object(be.jsxs)("div",{className:"modal-body",children:[Object(be.jsx)(h.a,{className:"modal-form",component:"form",noValidate:!0,autoComplete:"off",onChange:function(e){j(e.target.value)},children:Object(be.jsx)(m.a,{autoComplete:"off",className:"txt-input",error:g,value:l,name:"label",label:"label name",variant:"outlined"})}),Object(be.jsx)(Ke.a,{className:"form-buttons",spacing:2,direction:"row",children:Object(be.jsx)(O.a,{variant:"contained",onClick:w,children:r?"Submit":"Add"})})]})]})},bt=a(267),pt={PaperProps:{style:{maxHeight:224,width:250}}};function ft(e,t,a){return{fontWeight:-1===t.indexOf(e)?a.typography.fontWeightRegular:a.typography.fontWeightMedium}}var mt=function(e){var t=e.closeModal,a=Object(o.c)((function(e){return e.appStateModule.selectedAction})),r=Object(o.c)((function(e){return e.userModule.data})),c=Object(o.c)((function(e){return e.appStateModule.filterBy})),s=Object(o.b)(),i=Object(rt.a)(),u=Object(n.useState)(a||{_id:"",type:"expense",labels:[],category:"",description:"",amount:0,createdAt:Date.now()}),j=Object(f.a)(u,2),x=j[0],v=j[1],g=Object(n.useState)({description:!1,category:!1,amount:!1}),y=Object(f.a)(g,2),w=y[0],N=y[1],k=Object(n.useState)(!1),D=Object(f.a)(k,2),S=D[0],C=D[1],M=Object(n.useState)(!1),T=Object(f.a)(M,2),A=T[0],E=T[1],_=function(e){v(Object(d.a)(Object(d.a)({},x),{},Object(l.a)({},e.target.name,e.target.value)))},I=function(){var e=Object(p.a)(b.a.mark((function e(){var a,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in a=!0,n=Object(d.a)({},w),w)x[r]?"amount"===r&&x.amount<=0?(a=!1,n.amount=!0):n[r]=!1:(a=!1,n[r]=!0);if(a){e.next=8;break}return N(n),e.abrupt("return");case 8:return s(se(!0)),e.next=11,s(K(x,c));case 11:s(se(!1)),t(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)("div",{className:"modal action-add-edit-modal",children:[Object(be.jsxs)("div",{className:"modal-header",children:[Object(be.jsx)("h3",{children:a?"Edit action":"Add new action"}),Object(be.jsx)(Ue.f,{className:"exit-modal-btn",onClick:function(){t(!1)}})]}),Object(be.jsxs)("div",{className:"modal-body",children:[Object(be.jsx)(m.a,{autoComplete:"off",className:"txt-input",error:w.description,value:x.description,name:"description",onChange:_,label:"Description",variant:"outlined"}),Object(be.jsxs)(h.a,{className:"modal-form",component:"form",noValidate:!0,autoComplete:"off",onChange:_,children:[Object(be.jsxs)("div",{className:"input-selectors",children:[Object(be.jsx)("div",{className:"input-select",children:Object(be.jsxs)(Ze.a,{className:"input-field",fullWidth:!0,children:[Object(be.jsx)(Qe.a,{id:"type",children:"Type"}),Object(be.jsxs)(et.a,{fullWidth:!0,labelId:"type",id:"type",value:x.type,label:"Type",name:"type",onChange:_,children:[Object(be.jsx)(tt.a,{value:"expense",children:"Expense"},"type-expense"),Object(be.jsx)(tt.a,{value:"income",children:"Income"},"type-income"),Object(be.jsx)(tt.a,{value:"investment",children:"Investment"},"type-investment")]})]})}),Object(be.jsx)("div",{className:"input-select",children:Object(be.jsx)(Xe.b,{dateAdapter:Je.a,children:Object(be.jsx)(Ke.a,{spacing:3,children:Object(be.jsx)(bt.a,{label:"Date & Time",ampm:!1,inputFormat:"dd/MM/yyyy HH:mm",value:x.createdAt,onAccept:function(e){!function(e){if(e){var t=new Date(e).getTime();v(Object(d.a)(Object(d.a)({},x),{},{createdAt:t}))}}(e)},onChange:function(e){},renderInput:function(e){return Object(be.jsx)(m.a,Object(d.a)({autoComplete:"off",className:"input-field"},e))}})})})}),Object(be.jsxs)("div",{className:"inner-group",children:[Object(be.jsxs)("div",{className:"input-select",children:[Object(be.jsxs)(Ze.a,{className:"input-field",fullWidth:!0,children:[Object(be.jsx)(Qe.a,{id:"category",children:"Category"}),Object(be.jsx)(et.a,{fullWidth:!0,labelId:"category",id:"category",error:w.category,value:x.category,label:"Category",name:"category",onChange:_,children:r&&r.categories.map((function(e){return Object(be.jsx)(tt.a,{value:e.title,children:e.title},e._id)}))})]}),Object(be.jsx)(O.a,{variant:"contained",onClick:function(){C(!0)},children:"Add"})]}),Object(be.jsxs)("div",{className:"input-select",children:[Object(be.jsxs)(Ze.a,{className:"input-field",fullWidth:!0,children:[Object(be.jsx)(Qe.a,{id:"label",children:"Labels"}),Object(be.jsx)(et.a,{id:"multiple-labels",multiple:!0,value:x.labels,onChange:function(e){var t=e.target.value,a=Object(d.a)(Object(d.a)({},x),{},{labels:"string"===typeof t?t.split(","):t});v(a)},input:Object(be.jsx)(ct.a,{id:"select-multiple-chip",label:"Chip"}),renderValue:function(e){return Object(be.jsx)(h.a,{sx:{display:"flex",overflowX:"auto",gap:.5},children:e.map((function(e){return Object(be.jsx)(st.a,{label:e},e)}))})},MenuProps:pt,children:r.labels.map((function(e){return Object(be.jsx)(tt.a,{value:e.labelName,style:ft(e.title,x.labels,i),children:e.title},"options-"+e._id)}))})]}),Object(be.jsx)(O.a,{variant:"contained",onClick:function(){E(!0)},children:"Add"})]})]})]}),Object(be.jsx)(m.a,{autoComplete:"off",className:"txt-input amount-input",type:"number",error:w.amount,value:x.amount,name:"amount",label:"Amount",variant:"outlined"})]}),Object(be.jsx)(Ke.a,{className:"form-buttons",spacing:2,direction:"row",children:Object(be.jsx)(O.a,{variant:"contained",onClick:I,children:a?"Submit":"Add new action"})})]})]}),Object(be.jsx)(ot.a,{isOpen:S,exitDimmer:C,zIndex:105,blur:1.5,saturate:85}),Object(be.jsx)(ot.a,{isOpen:A,exitDimmer:E,zIndex:105,blur:1.5,saturate:85}),S&&Object(be.jsx)(dt,{closeModal:C,setFormData:v}),A&&Object(be.jsx)(jt,{closeModal:E,setFormData:v})]})},Ot=a(285),ht=a(144),xt=function(e){var t=e.closeModal,a=e.title,n=e.message,r=e.setAnswer;return Object(be.jsxs)("div",{className:"confirm-modal modal",children:[Object(be.jsxs)("div",{className:"modal-header",children:[Object(be.jsx)("h3",{children:a}),Object(be.jsx)(Ue.f,{className:"exit-modal-btn",onClick:function(){t(!1),r(!1)}})]}),Object(be.jsxs)("div",{className:"modal-body",children:[n,Object(be.jsxs)("div",{className:"buttons",children:[Object(be.jsx)(O.a,{onClick:function(){t(!1),r(!0)},children:"confirm"}),Object(be.jsx)(O.a,{onClick:function(){t(!1),r(!1)},children:"cancel"})]})]})]})},vt=["Account","Preferences","Categories","Labels"],gt=function(e){var t=e.closeModal,a=Object(n.useState)("Account"),r=Object(f.a)(a,2),c=r[0],s=r[1];return Object(be.jsxs)("div",{className:"settings-modal modal",children:[Object(be.jsxs)("div",{className:"modal-header",children:[Object(be.jsx)("h3",{children:"Settings"}),Object(be.jsx)(Ue.f,{className:"exit-modal-btn",onClick:function(){t(!1)}})]}),Object(be.jsxs)("div",{className:"modal-body",children:[Object(be.jsx)("div",{className:"tabs",children:vt.map((function(e){return Object(be.jsx)("h2",{onClick:function(){s(e)},style:c===e?{color:"black",fontWeight:"600",borderBottom:"3px black solid"}:{},children:e},e)}))}),Object(be.jsxs)("div",{className:"settings-body",children:["Account"===c&&Object(be.jsx)(yt,{closeModal:t}),"Preferences"===c&&Object(be.jsx)(wt,{closeModal:t}),"Categories"===c&&Object(be.jsx)(Nt,{}),"Labels"===c&&Object(be.jsx)(kt,{})]})]})]})},yt=function(e){var t=e.closeModal,a=Object(o.b)(),r=Object(u.f)(),c=Object(o.c)((function(e){return e.userModule.loggedInUser}))||k.load("loggedInUser"),s=Object(n.useState)({firstName:(null===c||void 0===c?void 0:c.firstName)||"",lastName:(null===c||void 0===c?void 0:c.lastName)||"",password1:"",password2:"",picture:null}),i=Object(f.a)(s,2),j=i[0],h=i[1],x=Object(n.useState)(!1),v=Object(f.a)(x,2),w=v[0],N=v[1],D=Object(n.useState)({password:!1}),C=Object(f.a)(D,2),M=C[0],T=C[1],A=Object(n.useRef)(null),E=function(e){h(Object(d.a)(Object(d.a)({},j),{},Object(l.a)({},e.target.name,e.target.value)))},_=function(){var e=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.target.files&&t.target.files.length>0)){e.next=8;break}return a(se(!0)),g("Uploading image to cloud...","info",3500),e.next=5,S.uploadImg(t.target.files[0]);case 5:(n=e.sent)?(h(Object(d.a)(Object(d.a)({},j),{},{picture:n})),g("Image uploaded to cloud...","success",3500)):g("Something went wrong, try again later...","warning",3500),a(se(!1));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(p.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},!j.password1&&!j.password2){e.next=8;break}if(j.password1===j.password2){e.next=7;break}return T(Object(d.a)(Object(d.a)({},M),{},{password:!0})),e.abrupt("return");case 7:n.password=j.password1;case 8:return j.firstName&&j.firstName!==c.firstName&&(n.firstName=j.firstName),j.lastName&&j.lastName!==c.lastName&&(n.lastName=j.lastName),j.picture&&(n.picture=j.picture),a(se(!0)),e.next=14,a(X(n));case 14:a(se(!1)),t(!1);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=Object(be.jsxs)("div",{children:[Object(be.jsx)("h3",{children:"This is irreversible."}),Object(be.jsx)("h3",{children:"Deleting your account will delete all of it's data forever."})]}),U=function(){var e=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return a(se(!0)),e.next=4,a(function(){var e=Object(p.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.deleteUser();case 3:return(a=e.sent)?a.msg?y(a.title,a.msg,a.type,3500):t({type:"SET_USER",user:null}):y("Opps, an error occurred","Could not delete your account, try again later","danger",3500),e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}());case 4:n=e.sent,a(se(!1)),n?r("/"):console.log("could not delete user");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c?Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)("div",{className:"account-settings",children:[Object(be.jsxs)("div",{className:"inputs",children:[Object(be.jsx)(m.a,{autoComplete:"off",value:j.firstName,name:"firstName",onChange:E,label:"first name",variant:"outlined"}),Object(be.jsx)(m.a,{autoComplete:"off",value:j.lastName,name:"lastName",onChange:E,label:"last name",variant:"outlined"}),!c.isGoogle&&Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(m.a,{autoComplete:"off",value:j.password1,name:"password1",onChange:E,label:"new password",type:"password",error:M.password,variant:"outlined"}),Object(be.jsx)(m.a,{autoComplete:"off",value:j.password2,name:"password2",onChange:E,label:"verify password",type:"password",error:M.password,variant:"outlined"})]}),Object(be.jsxs)(O.a,{onClick:function(){"DemoUser"!==c.userName?A.current&&A.current.click():y("Opps...","Changes cannot be made on demo user","warning",3500)},children:["upload new picture",Object(be.jsx)(ht.a,{})]}),Object(be.jsx)("input",{ref:A,type:"file",onChange:_,style:{display:"none"}}),Object(be.jsx)("p",{children:"*change only what's needed"})]}),Object(be.jsx)(O.a,{onClick:I,children:"submit"}),Object(be.jsx)(O.a,{className:"delete-account-btn",onClick:F,children:"delete account"})]}),Object(be.jsx)(ot.a,{isOpen:w,exitDimmer:N,zIndex:120,blur:1.5,saturate:85}),w&&Object(be.jsx)(xt,{title:"Warning",message:L,setAnswer:U,closeModal:N})]}):Object(be.jsx)(We,{})},wt=function(e){var t=e.closeModal,a=Object(o.b)(),r=Object(o.c)((function(e){return e.userModule.data})),c=Object(o.c)((function(e){return e.appStateModule.filterBy})),s=Object(n.useState)({currency:r.currency}),i=Object(f.a)(s,2),u=i[0],j=i[1],m=Object(n.useState)(null),x=Object(f.a)(m,2),v=x[0],g=x[1];Object(n.useEffect)((function(){Object(p.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.getCurrencies();case 2:t=e.sent,a=Object.entries(t).filter((function(e){return!!e[1].currencySymbol})).map((function(e){return e[1]})),g(a);case 5:case"end":return e.stop()}}),e)})))()}),[]);var y=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(se(!0)),e.next=3,a($(u,c));case 3:a(se(!1)),t(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(be.jsxs)("div",{className:"preferences-settings",children:[Object(be.jsx)("div",{className:"inputs",children:u.currency&&Object(be.jsx)(h.a,{sx:{minWidth:120},children:Object(be.jsxs)(Ze.a,{fullWidth:!0,children:[Object(be.jsx)(Ot.a,{children:"Currency sign"}),Object(be.jsx)(et.a,{value:u.currency.code,name:"currency",onChange:function(e){if("currency"===e.target.name){var t={code:e.target.value,sign:xe.getSymbolFromCode(e.target.value)};j(Object(d.a)(Object(d.a)({},u),{},Object(l.a)({},e.target.name,t)))}},children:v&&v.map((function(e){return Object(be.jsxs)(tt.a,{value:e.id,children:[e.currencyName," ",e.currencySymbol]},e.id)}))})]})})}),Object(be.jsx)(O.a,{onClick:y,children:"submit"})]})},Nt=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.userModule.data})),a=Object(o.c)((function(e){return e.appStateModule.filterBy})),r=Object(n.useState)(!1),c=Object(f.a)(r,2),s=c[0],i=c[1],u=Object(n.useState)(null),l=Object(f.a)(u,2),d=l[0],j=l[1];Object(n.useEffect)((function(){s||j(null)}),[s]);var m=function(){var t=Object(p.a)(b.a.mark((function t(n){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(se(!0)),t.next=3,e(te(n,a));case 3:r=t.sent,e(se(!1)),r||g("Cannot delete a category while it's in use","danger",3500);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)("div",{className:"categories-settings",children:[Object(be.jsxs)("div",{className:"select-modal",children:[0===t.categories.length&&Object(be.jsx)("h2",{className:"empty-msg",children:"No categories to show"}),t&&t.categories.map((function(e){return Object(be.jsxs)("div",{className:"category-preview",children:[Object(be.jsxs)("div",{className:"left-side",children:[Object(be.jsx)("div",{className:"icon",style:{backgroundColor:e.bgColor},children:Object(be.jsx)(Pe,{iconName:e.icon})}),Object(be.jsx)("p",{children:e.title})]}),Object(be.jsxs)("div",{className:"right-side",children:[Object(be.jsx)("div",{onClick:function(){j(e),i(!0)},children:Object(be.jsx)(Ie.M,{})}),Object(be.jsx)("div",{className:"delete-btn",onClick:function(){m(e._id)},children:Object(be.jsx)(Be.a,{})})]})]},e._id)}))]}),Object(be.jsx)(O.a,{onClick:function(){i(!0)},children:"add new"})]}),s&&Object(be.jsx)(be.Fragment,{children:s&&Object(be.jsx)(dt,{closeModal:i,categoryToEdit:d})}),Object(be.jsx)(ot.a,{isOpen:s,exitDimmer:i,zIndex:100,blur:1.5,saturate:85})]})},kt=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.userModule.data})),a=Object(o.c)((function(e){return e.appStateModule.filterBy})),r=Object(n.useState)(!1),c=Object(f.a)(r,2),s=c[0],i=c[1],u=Object(n.useState)(null),l=Object(f.a)(u,2),d=l[0],j=l[1],m=Object(n.useState)(!1),h=Object(f.a)(m,2),x=h[0],v=h[1],g=function(){var t=Object(p.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n||!d){t.next=5;break}return e(se(!0)),t.next=4,e(ne(d._id,a));case 4:e(se(!1));case 5:j(null);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(t),v(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=Object(be.jsxs)("div",{children:[Object(be.jsx)("h3",{children:"This is irreversible."}),Object(be.jsx)("h3",{children:"Deleting a label will remove it from all of it's occurrences forever."})]});return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)("div",{className:"labels-settings",children:[Object(be.jsxs)("div",{className:"select-modal",children:[0===t.labels.length&&Object(be.jsx)("h2",{className:"empty-msg",children:"No labels to show"}),t&&t.labels.map((function(e){return Object(be.jsxs)("div",{className:"label-preview",children:[Object(be.jsx)("div",{className:"left-side",children:Object(be.jsx)("h2",{className:"label",children:e.labelName})}),Object(be.jsxs)("div",{className:"right-side",children:[Object(be.jsx)("div",{onClick:function(){j(e),i(!0)},children:Object(be.jsx)(Ie.M,{})}),Object(be.jsx)("div",{className:"delete-btn",onClick:function(){y(e)},children:Object(be.jsx)(Be.a,{})})]})]},e._id)}))]}),Object(be.jsx)(O.a,{onClick:function(){i(!0)},children:"add new"})]}),s&&Object(be.jsx)(be.Fragment,{children:s&&Object(be.jsx)(jt,{closeModal:i,labelToEdit:d})}),Object(be.jsx)(ot.a,{isOpen:s,exitDimmer:i,zIndex:100,blur:1.5,saturate:85}),Object(be.jsx)(ot.a,{isOpen:x,exitDimmer:v,zIndex:120,blur:1.5,saturate:85}),x&&Object(be.jsx)(xt,{title:"Warning",message:w,setAnswer:g,closeModal:v})]})},Dt=a(119),St=function(){var e=Object(o.c)((function(e){return e.appStateModule.blocksIdx})),t=Object(o.c)((function(e){return e.appStateModule.isPaginationDots}));return Object(be.jsxs)("div",{className:"pagination-dots",style:{opacity:t?"1":"0"},children:[Object(be.jsx)(Dt.a,{className:"".concat(e?"fade-dot":"")}),Object(be.jsx)(Dt.a,{className:"".concat(e?"":"fade-dot")})]})},Ct=function(){var e=Object(u.f)(),t=Object(o.b)(),a=Object(o.c)((function(e){return e.appStateModule.currentViewMode})),r=Object(o.c)((function(e){return e.userModule.loggedInUser}))||k.load("loggedInUser"),c=Object(o.c)((function(e){return e.appStateModule.filterBy})),s=Object(n.useState)(!1),i=Object(f.a)(s,2),l=i[0],d=i[1],j=Object(n.useState)(!1),m=Object(f.a)(j,2),O=m[0],h=m[1],x=Object(n.useState)(!1),v=Object(f.a)(x,2),g=v[0],y=v[1],w=Object(n.useState)(!1),N=Object(f.a)(w,2),D=N[0],S=N[1],C=Object(n.useRef)(null);Object(n.useEffect)((function(){var a=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(se(!0)),e.next=3,t(q(ye.getDateFilterBy(c)));case 3:t(se(!1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(J());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r?a():n()||e("/")}),[t,r,c,e]),Object(n.useEffect)((function(){(!D||l||g)&&t(ue(null))}),[t,D,l,g]),Object(n.useEffect)((function(){var e=xe.debounce((function(e){e.target.scrollingElement.scrollTop>0?t(ce(!0)):t(ce(!1))}),100);return"Graph"===a?(window.scrollY>0?t(ce(!0)):t(ce(!1)),window.addEventListener("scroll",e)):(t(ce(!0)),window.removeEventListener("scroll",e)),function(){window.removeEventListener("scroll",e)}}),[t,a]);var M=xe.debounce((function(e){e.target.scrollLeft>0?t(re(1)):t(re(0))}),100);return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)("div",{className:"main-app",children:[Object(be.jsx)(De,{isMenuOpen:l,setMenuOpen:d,setActionModalOpen:S,setSettingsModalOpen:y}),Object(be.jsx)("div",{className:"app-content",children:Object(be.jsxs)("div",{className:"full-screen-content",children:[Object(be.jsx)(Ce,{setMenuOpen:d,setActionModalOpen:S}),Object(be.jsx)(Te,{setSearchModalOpen:h}),Object(be.jsx)(Ae,{}),"Graph"===a&&Object(be.jsx)(Ve,{}),Object(be.jsxs)("div",{ref:C,onScroll:M,className:"main-content-blocks",children:[Object(be.jsx)(Ge,{type:"expense",setActionModalOpen:S}),Object(be.jsx)(Ge,{type:"income",setActionModalOpen:S}),Object(be.jsx)(Ge,{type:"investment",setActionModalOpen:S})]})]})})]}),Object(be.jsx)(St,{}),Object(be.jsx)(ot.a,{isOpen:l,exitDimmer:d,blur:1.5,saturate:85}),Object(be.jsx)(ot.a,{isOpen:O,exitDimmer:h,blur:1.5,saturate:85}),Object(be.jsx)(ot.a,{isOpen:D,exitDimmer:S,blur:1.5,saturate:85}),Object(be.jsx)(ot.a,{isOpen:g,exitDimmer:y,blur:1.5,saturate:85}),O&&Object(be.jsx)(nt,{closeModal:h}),D&&Object(be.jsx)(mt,{closeModal:S}),g&&Object(be.jsx)(gt,{closeModal:y})]})};var Mt=function(){return Object(be.jsxs)(i.a,{children:[Object(be.jsx)(We,{}),Object(be.jsxs)(u.c,{children:[Object(be.jsx)(u.a,{path:"/mydata",element:Object(be.jsx)(Ct,{})}),Object(be.jsx)(u.a,{path:"/",element:Object(be.jsx)(pe,{})})]})]})},Tt=a(107),At=a(145),Et={loggedInUser:null,currentViewMode:"Summery",currentLabel:null,data:null},_t={blocksIdx:0,isPaginationDots:!1,loaderState:!1,currentViewMode:"Summery",currentLabels:[],selectedAction:null,filterBy:{searchTxt:"",startDate:ye.getMonthStartTimeStamp(),endDate:ye.getDayMaxHour(Date.now()),labels:[],categories:[]}},It=Object(Tt.b)({userModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(d.a)(Object(d.a)({},e),{},{loggedInUser:t.user});case"SET_DATA":return Object(d.a)(Object(d.a)({},e),{},{data:t.data});default:return e}},appStateModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BLOCKS_IDX":return Object(d.a)(Object(d.a)({},e),{},{blocksIdx:t.blocksIdx});case"SET_PAGINATION_DOTS":return Object(d.a)(Object(d.a)({},e),{},{isPaginationDots:t.isPaginationDots});case"SET_LOADER":return Object(d.a)(Object(d.a)({},e),{},{loaderState:t.loaderState});case"SET_VIEWMODE":return Object(d.a)(Object(d.a)({},e),{},{currentViewMode:t.viewMode});case"SET_LABELS":return Object(d.a)(Object(d.a)({},e),{},{currentLabels:t.labels});case"SET_SELECTED_ACTION":return Object(d.a)(Object(d.a)({},e),{},{selectedAction:t.action});case"SET_FILTERBY":return Object(d.a)(Object(d.a)({},e),{},{filterBy:t.filterBy});default:return e}}}),Ft=Object(Tt.c)(It,Object(Tt.a)(At.a)),Lt=(a(208),a(209),a(210),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function Ut(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(Object(be.jsx)(r.a.StrictMode,{children:Object(be.jsxs)(o.a,{store:Ft,children:[Object(be.jsx)(v.a,{}),Object(be.jsx)(Mt,{})]})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Lt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ut(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Ut(t,e)}))}}()}},[[211,1,2]]]);
//# sourceMappingURL=main.953e3a46.chunk.js.map